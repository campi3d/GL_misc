<!DOCTYPE MariML>
<Mari FnVersion="3.0" Version="2.1">
 <MriShaderNetwork Type="MriShaderNetwork">
  <objectName Type="QString"/>
  <selected Type="bool">false</selected>
  <uuidString Type="QString">{e4b53e6b-432d-4658-b37c-368c10557e3e}</uuidString>
  <viewerNodeUuid Type="QString"/>
  <m_nodes Size="1" attributeLinkString="{66f3b093-39d3-4990-a292-0056fe95bb66},gap_size,{2b36ad56-02f3-4637-8b3a-7b51d8fdbc7b},Float_Field,{66f3b093-39d3-4990-a292-0056fe95bb66},transition_mode,{1f380953-b45c-4a97-8059-7552e8ff2849},BlendMode,{66f3b093-39d3-4990-a292-0056fe95bb66},edge_contrast,{2847003a-af25-4228-a9aa-8c9dd4ad6c07},position,{66f3b093-39d3-4990-a292-0056fe95bb66},edge_width,{e9fa119b-5e34-400e-bddb-19d8a3ad66c8},Threshold" Type="MriSnBaseNode" ContainerType="QList">
   <MriSnGroupNode Type="MriSnGroupNode">
    <objectName Type="QString">Edge Wear</objectName>
    <selected Type="bool">false</selected>
    <uuidString Type="QString">{66f3b093-39d3-4990-a292-0056fe95bb66}</uuidString>
    <prefferedInput Type="QString">Curvature Map</prefferedInput>
    <preferredInput Type="QString">Curvature Map</preferredInput>
    <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
    <defaultName Type="QString">Group</defaultName>
    <name Type="QString">Edge Wear</name>
    <defaultDescription Type="QString"/>
    <description Type="QString">Plug in a curvature map. Blur it for wider edge detail</description>
    <nodeAttributes Type="QStringList">Gap Size,Gap Size,Roughness B,gap_size,edge_width,edge_contrast,transition_mode</nodeAttributes>
    <tags Type="QStringList">_group,_gizmo</tags>
    <enabled Type="int">-1</enabled>
    <locked Type="bool">false</locked>
    <hash Type="QString"/>
    <cachePoints Type="QStringList"/>
    <cost Type="float">0</cost>
    <costDescription Type="QString"/>
    <disabledInputs Type="QStringList"/>
    <cacheEnabled Type="bool">false</cacheEnabled>
    <versionUUID Type="QString"/>
    <versionDate Type="QString"/>
    <versionHashCreated Type="QString"/>
    <containerNodeUUID Type="QString"/>
    <isContainerNode Type="bool">false</isContainerNode>
    <stackContainerNodeUUID Type="QString"/>
    <isStackContainerNode Type="bool">false</isStackContainerNode>
    <adjustmentStackContainerNodeUUID Type="QString"/>
    <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
    <sharedEdges Type="QStringList"/>
    <pathKey Type="QString"/>
    <edge_contrast TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="edge_contrast" GroupHints="1" PrettyName="edge_contrast" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1">0.727000034530647</edge_contrast>
    <edge_width TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.5" AttribName="edge_width" GroupHints="1" PrettyName="edge_width" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.5" Max="1">0.370000017574057</edge_width>
    <gap_size TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="gap_size" GroupHints="1" PrettyName="gap_size" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="">0.01</gap_size>
    <transition_mode TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="Comp_Default,Comp_Default,Comp_Copy,Comp_CopyRGB,Comp_Clear,Comp_Darken,Comp_Add,Comp_Multiply,Comp_ColorBurn,Comp_Lighten,Comp_Screen,Comp_ColorDodge,Comp_Overlay,Comp_SoftLight,Comp_HardLight,Comp_VividLight,Comp_PinLight,Comp_HardMix,Comp_Difference,Comp_Exclusion,Comp_Contrast,Comp_Decontrast,Comp_Hue,Comp_Saturation,Comp_Color,Comp_Luminance,Comp_BurnHighlights,Comp_BurnMidrange,Comp_BurnShadows,Comp_DodgeHighlights,Comp_DodgeMidrange,Comp_DodgeShadows,Comp_SpongeDesaturate,Comp_Invert,Comp_InverseDifference,Comp_VecDefault2d,Comp_VecAdd2d,Comp_VecDefault3d,Comp_VecAdd3d,Comp_VecScale3d,Comp_AddRGBEncodedNormals,Comp_MixRGBEncodedNormals,Comp_ReorientedNormalMappingRGBEncodedNormals,Normal,Copy,CopyRGB,Clear,Darken,Add,Multiply,Color Burn,Lighten,Screen,Color Dodge,Overlay,Soft Light,Hard Light,Vivid Light,Pin Light,Hard Mix,Difference,Exclusion,Contrast,Decontrast,Hue,Saturation,Color,Luminance,Burn Highlights,Burn Midrange,Burn Shadows,Dodge Highlights,Dodge Midrange,Dodge Shadows,Sponge Desaturate,Invert,Inverse Difference,Paint Flow Vectors,Nudge Flow Vectors,Paint Normal Vectors,Nudge Normal Vectors,Scale Vectors,Add Normal Maps,Mix Normal Maps,Mix Reoriented Normal Maps" AttribName="transition_mode" GroupHints="1" PrettyName="transition_mode" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="Comp_Default,Comp_Default,Comp_Copy,Comp_CopyRGB,Comp_Clear,Comp_Darken,Comp_Add,Comp_Multiply,Comp_ColorBurn,Comp_Lighten,Comp_Screen,Comp_ColorDodge,Comp_Overlay,Comp_SoftLight,Comp_HardLight,Comp_VividLight,Comp_PinLight,Comp_HardMix,Comp_Difference,Comp_Exclusion,Comp_Contrast,Comp_Decontrast,Comp_Hue,Comp_Saturation,Comp_Color,Comp_Luminance,Comp_BurnHighlights,Comp_BurnMidrange,Comp_BurnShadows,Comp_DodgeHighlights,Comp_DodgeMidrange,Comp_DodgeShadows,Comp_SpongeDesaturate,Comp_Invert,Comp_InverseDifference,Comp_VecDefault2d,Comp_VecAdd2d,Comp_VecDefault3d,Comp_VecAdd3d,Comp_VecScale3d,Comp_AddRGBEncodedNormals,Comp_MixRGBEncodedNormals,Comp_ReorientedNormalMappingRGBEncodedNormals,Normal,Copy,CopyRGB,Clear,Darken,Add,Multiply,Color Burn,Lighten,Screen,Color Dodge,Overlay,Soft Light,Hard Light,Vivid Light,Pin Light,Hard Mix,Difference,Exclusion,Contrast,Decontrast,Hue,Saturation,Color,Luminance,Burn Highlights,Burn Midrange,Burn Shadows,Dodge Highlights,Dodge Midrange,Dodge Shadows,Sponge Desaturate,Invert,Inverse Difference,Paint Flow Vectors,Nudge Flow Vectors,Paint Normal Vectors,Nudge Normal Vectors,Scale Vectors,Add Normal Maps,Mix Normal Maps,Mix Reoriented Normal Maps" Max="">Comp_Contrast,Comp_Default,Comp_Copy,Comp_CopyRGB,Comp_Clear,Comp_Darken,Comp_Add,Comp_Multiply,Comp_ColorBurn,Comp_Lighten,Comp_Screen,Comp_ColorDodge,Comp_Overlay,Comp_SoftLight,Comp_HardLight,Comp_VividLight,Comp_PinLight,Comp_HardMix,Comp_Difference,Comp_Exclusion,Comp_Contrast,Comp_Decontrast,Comp_Hue,Comp_Saturation,Comp_Color,Comp_Luminance,Comp_BurnHighlights,Comp_BurnMidrange,Comp_BurnShadows,Comp_DodgeHighlights,Comp_DodgeMidrange,Comp_DodgeShadows,Comp_SpongeDesaturate,Comp_Invert,Comp_InverseDifference,Comp_VecDefault2d,Comp_VecAdd2d,Comp_VecDefault3d,Comp_VecAdd3d,Comp_VecScale3d,Comp_AddRGBEncodedNormals,Comp_MixRGBEncodedNormals,Comp_ReorientedNormalMappingRGBEncodedNormals,Normal,Copy,CopyRGB,Clear,Darken,Add,Multiply,Color Burn,Lighten,Screen,Color Dodge,Overlay,Soft Light,Hard Light,Vivid Light,Pin Light,Hard Mix,Difference,Exclusion,Contrast,Decontrast,Hue,Saturation,Color,Luminance,Burn Highlights,Burn Midrange,Burn Shadows,Dodge Highlights,Dodge Midrange,Dodge Shadows,Sponge Desaturate,Invert,Inverse Difference,Paint Flow Vectors,Nudge Flow Vectors,Paint Normal Vectors,Nudge Normal Vectors,Scale Vectors,Add Normal Maps,Mix Normal Maps,Mix Reoriented Normal Maps</transition_mode>
    <m_groupNetwork Type="MriShaderNetwork">
     <objectName Type="QString"/>
     <selected Type="bool">false</selected>
     <uuidString Type="QString">{3e04ec74-8725-4918-977c-23b8ca4f52c1}</uuidString>
     <viewerNodeUuid Type="QString"/>
     <m_nodes Size="30" attributeLinkString="{2847003a-af25-4228-a9aa-8c9dd4ad6c07},position,{66f3b093-39d3-4990-a292-0056fe95bb66},edge_contrast,{2b36ad56-02f3-4637-8b3a-7b51d8fdbc7b},Float_Field,{66f3b093-39d3-4990-a292-0056fe95bb66},gap_size,{1f380953-b45c-4a97-8059-7552e8ff2849},BlendMode,{66f3b093-39d3-4990-a292-0056fe95bb66},transition_mode,{e9fa119b-5e34-400e-bddb-19d8a3ad66c8},Threshold,{66f3b093-39d3-4990-a292-0056fe95bb66},edge_width" Type="MriSnBaseNode" ContainerType="QList">
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Output</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{9a1630dd-f5ea-4477-a589-e5215556a630}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Output</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList"/>
       <tags Type="QStringList">_output</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Misc_Output</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">09a1c86a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Misc/Output</pathKey>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{0029b091-80d4-4293-9e4a-f46596ef13da}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Output</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{2a6aeda6-41e5-4ce7-a5e2-cf076d7b4fe3}</uuidString>
         <position Type="QPointF">559.147,371.89</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{7d5a8ccb-bb68-42be-9da5-4c13fa791d01}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    Output = #Input;
                </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(0,0,0,1)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{2847003a-af25-4228-a9aa-8c9dd4ad6c07}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input=" " Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Size Control</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{2b36ad56-02f3-4637-8b3a-7b51d8fdbc7b}</uuidString>
       <prefferedInput Type="QString"/>
       <preferredInput Type="QString"/>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Size Control</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/Float_Field,/Integer,/Float_0to1,/Float_0to10,/Float_0to100,/Float_0to1000</nodeAttributes>
       <tags Type="QStringList"/>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">JK_Float</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0ed6b1aa</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <Float_0to1 TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="Float_0to1" GroupHints="1" PrettyName="0 - 1" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1">0</Float_0to1>
       <Float_0to10 TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="Float_0to10" GroupHints="1" PrettyName="0 - 10" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="10">0</Float_0to10>
       <Float_0to100 TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="Float_0to100" GroupHints="1" PrettyName="0 - 100" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100">0</Float_0to100>
       <Float_0to1000 TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="Float_0to1000" GroupHints="1" PrettyName="0 - 1000" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1000">0</Float_0to1000>
       <Float_Field TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="Float_Field" GroupHints="1" PrettyName="Float" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="">0.01</Float_Field>
       <Integer TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="int" Reset="0" AttribName="Integer" GroupHints="1" PrettyName="Integer" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="">0</Integer>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{b06fc6d6-8713-4348-8c13-360220bf7b0e}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Size Control</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{b43331dd-1a23-438f-893c-453242fc04b6}</uuidString>
         <position Type="QPointF">-615.656,-357.869</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{7198f3af-401c-480b-860b-0401b2225426}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

                float OutValue = ($Float_Field + $Float_0to1 + $Float_0to10 + $Float_0to100 + $Float_0to1000 + float($Integer));
                Output = vec4(OutValue,OutValue,OutValue,1.0);
           
           </Expression>
        <m_defaultInputMap Size="0" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="0" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Dot 51</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{ef938188-1875-49e5-b1e5-f9686831992f}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Dot</defaultName>
       <name Type="QString">Dot 51</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList"/>
       <tags Type="QStringList">_dot</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString"/>
       <versionDate Type="QString"/>
       <versionHashCreated Type="QString"/>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <NodeGraphView Type="MriSnUINodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{8d300eb4-9908-4d0d-a87b-e5a7a654738c}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <guiNodeClass Type="QString">Dot</guiNodeClass>
        <m_GuiNode Type="MriNgDotNode">
         <objectName Type="QString"/>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{9be98b7e-4e60-4ee3-b0f0-56d6e099bfac}</uuidString>
         <position Type="QPointF">1067.24,-414.635</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{8d10fdea-a93f-451c-a284-de7e94e657ba}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
                    Output = #Input;
                    </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(0,0,0,0)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{2deee9d9-c591-4d0e-b5b1-ed0277be4ed0}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input="" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Dot 50</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{c7fc6f89-e841-4845-89a9-e909ff7ab7e2}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Dot</defaultName>
       <name Type="QString">Dot 50</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList"/>
       <tags Type="QStringList">_dot</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString"/>
       <versionDate Type="QString"/>
       <versionHashCreated Type="QString"/>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <NodeGraphView Type="MriSnUINodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{f64d4a67-4574-4475-b523-aed4fc6af72c}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <guiNodeClass Type="QString">Dot</guiNodeClass>
        <m_GuiNode Type="MriNgDotNode">
         <objectName Type="QString"/>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{4e64f829-72f9-40af-8a84-9129bfc99725}</uuidString>
         <position Type="QPointF">1050.79,-887.002</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{91e82929-d3db-4fcf-8a68-85151f471a6a}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
                    Output = #Input;
                    </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(0,0,0,0)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{e9fa119b-5e34-400e-bddb-19d8a3ad66c8}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input="" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Dot 49</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{b6683773-88a0-46b8-ba74-92574c0387c8}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Dot</defaultName>
       <name Type="QString">Dot 49</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList"/>
       <tags Type="QStringList">_dot</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString"/>
       <versionDate Type="QString"/>
       <versionHashCreated Type="QString"/>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <NodeGraphView Type="MriSnUINodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{97a8d6d0-4d9b-40bc-9b57-a99ac119d014}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <guiNodeClass Type="QString">Dot</guiNodeClass>
        <m_GuiNode Type="MriNgDotNode">
         <objectName Type="QString"/>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{45a22c25-82a5-4e87-a613-7b312c1eb4e0}</uuidString>
         <position Type="QPointF">777.491,-883.135</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{16f64ee4-89a2-4bb2-abb5-5b4e483311cc}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
                    Output = #Input;
                    </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(0,0,0,0)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{c7fc6f89-e841-4845-89a9-e909ff7ab7e2}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input="" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Dot</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{6ef0c9b7-09d2-4106-a020-10f76e383435}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Dot</defaultName>
       <name Type="QString">Dot</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList"/>
       <tags Type="QStringList">_dot</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString"/>
       <versionDate Type="QString"/>
       <versionHashCreated Type="QString"/>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <NodeGraphView Type="MriSnUINodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{c6a93a8b-3b3d-4322-9b2f-8f7d204cff1a}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <guiNodeClass Type="QString">Dot</guiNodeClass>
        <m_GuiNode Type="MriNgDotNode">
         <objectName Type="QString"/>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{13b3ea30-badc-47f4-829d-7f57655cadbc}</uuidString>
         <position Type="QPointF">955.705,-414.002</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{ab0c63e7-c3e3-4170-857c-8ca31b13ef63}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
                    Output = #Input;
                    </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(0,0,0,0)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{ef938188-1875-49e5-b1e5-f9686831992f}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input="" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Histogram Scan 6</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{2847003a-af25-4228-a9aa-8c9dd4ad6c07}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Histogram Scan 6</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/position,/contrast,/invertPosition,/clamp</nodeAttributes>
       <tags Type="QStringList">_adjustment</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0</cost>
       <costDescription Type="QString"/>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">JK_HistogramScan</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">046f6f6a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <clamp TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="false" AttribName="clamp" GroupHints="1" PrettyName="Clamp" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="false" Max="false">false</clamp>
       <contrast TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="contrast" GroupHints="1" PrettyName="Contrast" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1">0</contrast>
       <invertPosition TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="false" AttribName="invertPosition" GroupHints="1" PrettyName="Invert Position" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="false" Max="false">false</invertPosition>
       <position TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="position" GroupHints="1" PrettyName="Position" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1">0.727000034530647</position>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{37033b20-7fc6-4917-97d2-6ddab3a66632}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Histogram Scan 6</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{d3bbe710-f4b1-43ae-aa76-42016f14c825}</uuidString>
         <position Type="QPointF">542.822,-186.389</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="3" map0="Input:0,0,0,-50" Type="QString" map1="Position:0,0,-120,0" map2="Contrast:0,0,120,0" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{bd75dec3-576d-4ae6-b436-a4586be265f7}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Do not remove the following comment, used to initialize sliders:
    // $position; $contrast


    // Histogram Scan

    float position = mix(#Position.r,1.0-#Position.r,float($invertPosition));
    float pos_a = ( max(position,0.5) - 0.5) * 2.0;
    float pos_b = min( (position*2.0),1.0);
    float pos_x = min( (#Contrast.r*0.5),1.0);
          pos_x = max(pos_x,0.0);
    float InBlack = mix(pos_a,pos_b,pos_x);
    float InWhite = mix(pos_b,pos_a,pos_x);

    float outWhite = 0.0;
    float outBlack = 1.0;
    float grad = (outWhite - outBlack) / (InWhite - InBlack);
    float inMid = 0.5;
    inMid = mix( InBlack, InWhite, inMid);

    float ratio = (inMid - InBlack) / (InWhite - InBlack);
    float alpha = 1.0 / pow(10.0, 1.0 - 2.0 * ratio);

    alpha = max(alpha, 0.0001);

    vec3 levelled = vec3(0.0);
    for (int i = 0; i != 3; ++i)
    {
        float val = outBlack + (#Input[i] - InBlack) * grad;
        levelled[i] = pow(
                max( val, 0.0 )
                ,alpha );
    }
    if( $clamp)
    {
            // Clamp to 0-1 range
            levelled.rgb = clamp( levelled.rgb, vec3(0.0), vec3(1.0));
    }

    Output.rgb = clamp(vec3(1.0)-levelled.rgb,vec3(0.0),vec3(1.0));
    Output.a = #Input.a;

            </Expression>
        <m_defaultInputMap Size="3" map0="Contrast:0:vec4($contrast,$contrast,$contrast,1.0)" Type="QString" map1="Input:0:vec4(1,1,1,1)" map2="Position:0:vec4($position,$position,$position,1.0)" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="3" map0="Input:{1f380953-b45c-4a97-8059-7552e8ff2849}:Output" Type="QString" map1="Position::Output" map2="Contrast::Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Perlin</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{026c7623-c959-490f-80ac-3803a06cf741}</uuidString>
       <prefferedInput Type="QString">Position</prefferedInput>
       <preferredInput Type="QString">Position</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Perlin</name>
       <defaultDescription Type="QString"/>
       <description Type="QString">Basic Perlin Noise</description>
       <nodeAttributes Type="QStringList">/Size,Color/colorA,Color/colorB</nodeAttributes>
       <tags Type="QStringList"/>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.05</cost>
       <costDescription Type="QString">Texture reads</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Procedural_Noise_Perlin</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0e2c11ca</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <Size TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.5" AttribName="Size" GroupHints="1" PrettyName="Size" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.5" Max="2">0.435000020661391</Size>
       <colorA TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriColor" Reset="(1,1,1,1)" AttribName="colorA" GroupHints="1" PrettyName="Color A" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="(1,1,1,1)" Max="">(0.168068,0.168068,0.168068,1)</colorA>
       <colorB TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriColor" Reset="(0,0,0,1)" AttribName="colorB" GroupHints="1" PrettyName="Color B" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="(0,0,0,1)" Max="">(0,0,0,1)</colorB>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{209d503a-043c-42a2-b374-d3eeb62fdc00}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Perlin</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{25a61ce8-29a4-4a88-8301-a6e519a15233}</uuidString>
         <position Type="QPointF">400.642,-748.726</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{077e77ec-dbb9-4cfc-9f26-edceaeb36fdc}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">35632</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    vec3 seed = #Position.xyz;
    float size_pow = (pow(10000.0,$Size*$Size)-1.0) + 0.0001;
    vec3 scaled_seed = seed / size_pow;
    float noise_val = noise(scaled_seed);
    noise_val = noise_val*0.5 + 0.5;
    Output = mix($colorB,$colorA,noise_val);
                </Expression>
        <m_defaultInputMap Size="2" map0="Position:35632:State.Position" Type="QString" map1="Position:36487:State.Position" ContainerType="QHash"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{6568d65a-5856-4103-8996-5d475b360b35}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">36487</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    vec3 seed = #Position.xyz;
    float size_pow = (pow(10000.0,$Size*$Size)-1.0) + 0.0001;
    vec3 scaled_seed = seed / size_pow;
    float noise_val = noise(scaled_seed);
    noise_val = noise_val*0.5 + 0.5;
    Output = mix($colorB,$colorA,noise_val);
                </Expression>
        <m_defaultInputMap Size="2" map0="Position:35632:State.Position" Type="QString" map1="Position:36487:State.Position" ContainerType="QHash"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{0be872fd-ed8b-4c88-9dda-2797690fbc82}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    vec3 seed = #Position.xyz;
    float size_pow = (pow(10000.0,$Size*$Size)-1.0) + 0.0001;
    vec3 scaled_seed = seed / size_pow;
    float noise_val = noise(scaled_seed);
    noise_val = noise_val*0.5 + 0.5;
    Output = mix($colorB,$colorA,noise_val);
                </Expression>
        <m_defaultInputMap Size="2" map0="Position:35632:State.Position" Type="QString" map1="Position:36487:State.Position" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Position:{15b6e670-a257-4bef-a52b-a309199acdb3}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Histogram Scan</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{2deee9d9-c591-4d0e-b5b1-ed0277be4ed0}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Histogram Scan</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/position,/contrast,/invertPosition,/clamp</nodeAttributes>
       <tags Type="QStringList">_adjustment</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0</cost>
       <costDescription Type="QString"/>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">JK_HistogramScan</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">046f6f6a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <clamp TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="false" AttribName="clamp" GroupHints="1" PrettyName="Clamp" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="false" Max="false">true</clamp>
       <contrast TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="contrast" GroupHints="1" PrettyName="Contrast" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1">0.366000017384067</contrast>
       <invertPosition TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="false" AttribName="invertPosition" GroupHints="1" PrettyName="Invert Position" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="false" Max="false">false</invertPosition>
       <position TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="position" GroupHints="1" PrettyName="Position" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1">0.264000012539327</position>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{69e1fa0d-a5cb-4f6e-904d-cc5066c70a5e}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Histogram Scan</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{2c6b7f23-4392-4884-981f-2620808b82c1}</uuidString>
         <position Type="QPointF">991.242,-504.752</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="3" map0="Input:0,0,0,-50" Type="QString" map1="Position:0,0,-120,0" map2="Contrast:0,0,120,0" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{8f4476b3-929f-46a0-8815-245fa20e2cea}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Do not remove the following comment, used to initialize sliders:
    // $position; $contrast


    // Histogram Scan

    float position = mix(#Position.r,1.0-#Position.r,float($invertPosition));
    float pos_a = ( max(position,0.5) - 0.5) * 2.0;
    float pos_b = min( (position*2.0),1.0);
    float pos_x = min( (#Contrast.r*0.5),1.0);
          pos_x = max(pos_x,0.0);
    float InBlack = mix(pos_a,pos_b,pos_x);
    float InWhite = mix(pos_b,pos_a,pos_x);

    float outWhite = 0.0;
    float outBlack = 1.0;
    float grad = (outWhite - outBlack) / (InWhite - InBlack);
    float inMid = 0.5;
    inMid = mix( InBlack, InWhite, inMid);

    float ratio = (inMid - InBlack) / (InWhite - InBlack);
    float alpha = 1.0 / pow(10.0, 1.0 - 2.0 * ratio);

    alpha = max(alpha, 0.0001);

    vec3 levelled = vec3(0.0);
    for (int i = 0; i != 3; ++i)
    {
        float val = outBlack + (#Input[i] - InBlack) * grad;
        levelled[i] = pow(
                max( val, 0.0 )
                ,alpha );
    }
    if( $clamp)
    {
            // Clamp to 0-1 range
            levelled.rgb = clamp( levelled.rgb, vec3(0.0), vec3(1.0));
    }

    Output.rgb = clamp(vec3(1.0)-levelled.rgb,vec3(0.0),vec3(1.0));
    Output.a = #Input.a;

            </Expression>
        <m_defaultInputMap Size="3" map0="Contrast:0:vec4($contrast,$contrast,$contrast,1.0)" Type="QString" map1="Input:0:vec4(1,1,1,1)" map2="Position:0:vec4($position,$position,$position,1.0)" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="3" map0="Input:{de93ce37-c089-4a73-8f9d-e6b0b236917e}:Output" Type="QString" map1="Position::Output" map2="Contrast::Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Histogram Scan 5</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{42471b6e-ad98-47c1-b2a6-89a87512df12}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Histogram Scan 5</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/position,/contrast,/invertPosition,/clamp</nodeAttributes>
       <tags Type="QStringList">_adjustment</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0</cost>
       <costDescription Type="QString"/>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">JK_HistogramScan</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">046f6f6a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <clamp TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="false" AttribName="clamp" GroupHints="1" PrettyName="Clamp" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="false" Max="false">false</clamp>
       <contrast TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="contrast" GroupHints="1" PrettyName="Contrast" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1">0</contrast>
       <invertPosition TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="false" AttribName="invertPosition" GroupHints="1" PrettyName="Invert Position" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="false" Max="false">false</invertPosition>
       <position TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="position" GroupHints="1" PrettyName="Position" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1">0.227000010781921</position>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{d8b37cb4-e883-424f-866b-e08500954819}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Histogram Scan 5</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{e9fcdbf1-068e-4d34-a5c2-9556a23f1af9}</uuidString>
         <position Type="QPointF">695.589,-751.024</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="3" map0="Input:0,0,0,-50" Type="QString" map1="Position:0,0,-120,0" map2="Contrast:0,0,120,0" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{99982adf-1985-4e68-b657-37f5706c3954}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Do not remove the following comment, used to initialize sliders:
    // $position; $contrast


    // Histogram Scan

    float position = mix(#Position.r,1.0-#Position.r,float($invertPosition));
    float pos_a = ( max(position,0.5) - 0.5) * 2.0;
    float pos_b = min( (position*2.0),1.0);
    float pos_x = min( (#Contrast.r*0.5),1.0);
          pos_x = max(pos_x,0.0);
    float InBlack = mix(pos_a,pos_b,pos_x);
    float InWhite = mix(pos_b,pos_a,pos_x);

    float outWhite = 0.0;
    float outBlack = 1.0;
    float grad = (outWhite - outBlack) / (InWhite - InBlack);
    float inMid = 0.5;
    inMid = mix( InBlack, InWhite, inMid);

    float ratio = (inMid - InBlack) / (InWhite - InBlack);
    float alpha = 1.0 / pow(10.0, 1.0 - 2.0 * ratio);

    alpha = max(alpha, 0.0001);

    vec3 levelled = vec3(0.0);
    for (int i = 0; i != 3; ++i)
    {
        float val = outBlack + (#Input[i] - InBlack) * grad;
        levelled[i] = pow(
                max( val, 0.0 )
                ,alpha );
    }
    if( $clamp)
    {
            // Clamp to 0-1 range
            levelled.rgb = clamp( levelled.rgb, vec3(0.0), vec3(1.0));
    }

    Output.rgb = clamp(vec3(1.0)-levelled.rgb,vec3(0.0),vec3(1.0));
    Output.a = #Input.a;

            </Expression>
        <m_defaultInputMap Size="3" map0="Contrast:0:vec4($contrast,$contrast,$contrast,1.0)" Type="QString" map1="Input:0:vec4(1,1,1,1)" map2="Position:0:vec4($position,$position,$position,1.0)" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="3" map0="Input:{b6683773-88a0-46b8-ba74-92574c0387c8}:Output" Type="QString" map1="Position:{026c7623-c959-490f-80ac-3803a06cf741}:Output" map2="Contrast::Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Multiply</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{2cf373a1-5f01-4e9c-942a-56f462566b20}</uuidString>
       <prefferedInput Type="QString">A</prefferedInput>
       <preferredInput Type="QString">A</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Multiply</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">Components/R,Components/G,Components/B,Components/A</nodeAttributes>
       <tags Type="QStringList"/>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Math_Multiply</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0d50b86a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <A TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="false" AttribName="A" GroupHints="1" PrettyName="A" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="false" Max="">false</A>
       <B TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="B" GroupHints="1" PrettyName="B" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="">true</B>
       <G TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="G" GroupHints="1" PrettyName="G" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="">true</G>
       <R TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="R" GroupHints="1" PrettyName="R" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="">true</R>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{639acf3b-14e0-4166-9438-9abf0c64e76d}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Multiply</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{b4611aef-3eb8-4243-b02f-a2b0ed0300a3}</uuidString>
         <position Type="QPointF">754.678,51.8015</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{74edbc1c-b316-40a9-81c5-2da67fbf8911}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    vec4 Gate = vec4(float($R),float($G),float($B),float($A)); 
    Output = (#A*#B)*Gate + #A * (vec4(1.0)-Gate);
                </Expression>
        <m_defaultInputMap Size="2" map0="A:0:vec4(1,1,1,1)" Type="QString" map1="B:0:vec4(1,1,1,1)" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="2" map0="A:{42471b6e-ad98-47c1-b2a6-89a87512df12}:Output" Type="QString" map1="B:{1341100b-5b3a-439e-a266-e37bbf66d897}:Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Add</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{e9b4b560-4abd-45ee-9f70-a9cbe4a71e35}</uuidString>
       <prefferedInput Type="QString">A</prefferedInput>
       <preferredInput Type="QString">A</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Add</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">Components/R,Components/G,Components/B,Components/A</nodeAttributes>
       <tags Type="QStringList"/>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Math_Add</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">019c44aa</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <A TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="false" AttribName="A" GroupHints="1" PrettyName="A" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="false" Max="">false</A>
       <B TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="B" GroupHints="1" PrettyName="B" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="">true</B>
       <G TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="G" GroupHints="1" PrettyName="G" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="">true</G>
       <R TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="R" GroupHints="1" PrettyName="R" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="">true</R>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{25830f51-79c5-4eba-91b6-561623d47c32}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Add</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{40114636-500c-494b-8a73-6fbb67d30d91}</uuidString>
         <position Type="QPointF">227.491,65.4652</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{540a1efb-2f98-4201-9ca9-ee08cca22ecb}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    vec4 Gate = vec4(float($R),float($G),float($B),float($A)); 
    Output = #A+#B*Gate;
                </Expression>
        <m_defaultInputMap Size="2" map0="A:0:vec4(0,0,0,1)" Type="QString" map1="B:0:vec4(0,0,0,1)" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="2" map0="A:{8c75d316-2264-4d70-9adc-955722f331cf}:Output" Type="QString" map1="B:{2cf373a1-5f01-4e9c-942a-56f462566b20}:Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Cloud 5</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{ff7cf692-698c-4c7b-b2b8-ae5c2fd444e5}</uuidString>
       <prefferedInput Type="QString">Position</prefferedInput>
       <preferredInput Type="QString">Position</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Cloud 5</name>
       <defaultDescription Type="QString"/>
       <description Type="QString">Cloud pattern generated from multiple octaves of Perlin Noise</description>
       <nodeAttributes Type="QStringList">/Size,/Roughness,Color/colorA,Color/colorB,Offsets/XOffset,Offsets/YOffset,Offsets/ZOffset</nodeAttributes>
       <tags Type="QStringList"/>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.1</cost>
       <costDescription Type="QString">Texture reads</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Procedural_Fractal_Cloud</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0575400a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <Roughness TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.5" AttribName="Roughness" GroupHints="1" PrettyName="Roughness" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.5" Max="2">1.00000004749745</Roughness>
       <Size TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.5" AttribName="Size" GroupHints="1" PrettyName="Size" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.5" Max="2">1.00000004749745</Size>
       <XOffset TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="XOffset" GroupHints="1" PrettyName="X Offset" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100000">0</XOffset>
       <YOffset TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="YOffset" GroupHints="1" PrettyName="Y Offset" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100000">0</YOffset>
       <ZOffset TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="ZOffset" GroupHints="1" PrettyName="Z Offset" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100000">0</ZOffset>
       <colorA TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriColor" Reset="(1,1,1,1)" AttribName="colorA" GroupHints="1" PrettyName="Color A" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="(1,1,1,1)" Max="">(1,1,1,1)</colorA>
       <colorB TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriColor" Reset="(0,0,0,1)" AttribName="colorB" GroupHints="1" PrettyName="Color B" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="(0,0,0,1)" Max="">(0,0,0,1)</colorB>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{a0fe7392-1e37-41e5-a56e-14b832f95ec8}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Cloud 5</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{ca222dd6-a24e-4816-a7c8-fa502e004bb7}</uuidString>
         <position Type="QPointF">-30.9046,-284.636</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{fa63546d-b440-485a-bc82-acc289fc4b7a}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">35632</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    float size = $Size;
    float roughness = $Roughness;
    vec3 seed = #Position.xyz + vec3($XOffset,$YOffset,$ZOffset);
    float noise_val = 0.0;
    float size_pow = (pow(10000.0,size*size)-1.0) + 0.0001;
    float sharpness = log2(1.0+99.0*roughness)/log2(100.0);
    for(int i=0;i&lt;10;i++)
    {
        vec3 scaled_seed = pow(2.0,float(i)) * seed.rgb / size_pow;
        noise_val += noise(scaled_seed)/pow(5.0-4.0*sharpness,float(i));
    }
    noise_val = noise_val*0.5 + 0.5;
    Output = mix($colorB,$colorA,noise_val);
                </Expression>
        <m_defaultInputMap Size="2" map0="Position:35632:State.Position" Type="QString" map1="Position:36487:State.Position" ContainerType="QHash"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{9cbb50af-920b-4f39-871e-25a94dde0090}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">36487</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    float size = $Size;
    float roughness = $Roughness;
    vec3 seed = #Position.xyz + vec3($XOffset,$YOffset,$ZOffset);
    float noise_val = 0.0;
    float size_pow = (pow(10000.0,size*size)-1.0) + 0.0001;
    float sharpness = log2(1.0+99.0*roughness)/log2(100.0);
    for(int i=0;i&lt;10;i++)
    {
        vec3 scaled_seed = pow(2.0,float(i)) * seed.rgb / size_pow;
        noise_val += noise(scaled_seed)/pow(5.0-4.0*sharpness,float(i));
    }
    noise_val = noise_val*0.5 + 0.5;
    Output = mix($colorB,$colorA,noise_val);
                </Expression>
        <m_defaultInputMap Size="2" map0="Position:35632:State.Position" Type="QString" map1="Position:36487:State.Position" ContainerType="QHash"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{c545bc31-e82c-4439-b14a-4777f062f5e3}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    float size = $Size;
    float roughness = $Roughness;
    vec3 seed = #Position.xyz + vec3($XOffset,$YOffset,$ZOffset);
    float noise_val = 0.0;
    float size_pow = (pow(10000.0,size*size)-1.0) + 0.0001;
    float sharpness = log2(1.0+99.0*roughness)/log2(100.0);
    for(int i=0;i&lt;10;i++)
    {
        vec3 scaled_seed = pow(2.0,float(i)) * seed.rgb / size_pow;
        noise_val += noise(scaled_seed)/pow(5.0-4.0*sharpness,float(i));
    }
    noise_val = noise_val*0.5 + 0.5;
    Output = mix($colorB,$colorA,noise_val);
                </Expression>
        <m_defaultInputMap Size="2" map0="Position:35632:State.Position" Type="QString" map1="Position:36487:State.Position" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Position::Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Merge</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{72e5c8ab-58f2-41e6-90da-445a7d196704}</uuidString>
       <prefferedInput Type="QString">Base</prefferedInput>
       <preferredInput Type="QString">Base</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">true</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Merge</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/BlendMode,/Amount,Advanced/AmountEnabled,Advanced/AdvancedEnabled,Advanced/Component,Advanced/BlendIfThis,Advanced/BlendIfBelow,Swizzle/SwizzleR,Swizzle/SwizzleG,Swizzle/SwizzleB,Swizzle/SwizzleA,/_LayerSplitter</nodeAttributes>
       <tags Type="QStringList">_blend,_RT Curvature_currentLayer</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.03</cost>
       <costDescription Type="QString">Some calculations</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Layer_Merge</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">053ff12a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <AdvancedEnabled TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="0,0,1,Basic,Advanced" AttribName="AdvancedEnabled" GroupHints="1" PrettyName="Blending" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0,0,1,Basic,Advanced" Max="">0,0,1,Basic,Advanced</AdvancedEnabled>
       <Amount TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="Amount" GroupHints="1" PrettyName="Amount" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="1">1</Amount>
       <AmountEnabled TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="1,0,1,Disable,Enable" AttribName="AmountEnabled" GroupHints="1" PrettyName="Amount Enabled" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1,0,1,Disable,Enable" Max="">1,0,1,Disable,Enable</AmountEnabled>
       <BlendIfBelow TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriGradient" Reset="0,1,0.25,1,0.75,1,1,1,UseAtlas=true,Type=4," AttribName="BlendIfBelow" GroupHints="1" PrettyName="Below Layer" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0,1,0.25,1,0.75,1,1,1,UseAtlas=true,Type=4," Max="">0,1,0.25,1,0.75,1,1,1,UseAtlas=true,Type=4,</BlendIfBelow>
       <BlendIfThis TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriGradient" Reset="0,1,0.25,1,0.75,1,1,1,UseAtlas=true,Type=4," AttribName="BlendIfThis" GroupHints="1" PrettyName="This Layer" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0,1,0.25,1,0.75,1,1,1,UseAtlas=true,Type=4," Max="">0,1,0.25,1,0.75,1,1,1,UseAtlas=true,Type=4,</BlendIfThis>
       <BlendMode TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="Comp_Default,Comp_Default,Comp_Copy,Comp_CopyRGB,Comp_Clear,Comp_Darken,Comp_Add,Comp_Multiply,Comp_ColorBurn,Comp_Lighten,Comp_Screen,Comp_ColorDodge,Comp_Overlay,Comp_SoftLight,Comp_HardLight,Comp_VividLight,Comp_PinLight,Comp_HardMix,Comp_Difference,Comp_Exclusion,Comp_Contrast,Comp_Decontrast,Comp_Hue,Comp_Saturation,Comp_Color,Comp_Luminance,Comp_BurnHighlights,Comp_BurnMidrange,Comp_BurnShadows,Comp_DodgeHighlights,Comp_DodgeMidrange,Comp_DodgeShadows,Comp_SpongeDesaturate,Comp_Invert,Comp_InverseDifference,Comp_VecDefault2d,Comp_VecAdd2d,Comp_VecDefault3d,Comp_VecAdd3d,Comp_VecScale3d,Comp_AddRGBEncodedNormals,Comp_MixRGBEncodedNormals,Comp_ReorientedNormalMappingRGBEncodedNormals,Normal,Copy,CopyRGB,Clear,Darken,Add,Multiply,Color Burn,Lighten,Screen,Color Dodge,Overlay,Soft Light,Hard Light,Vivid Light,Pin Light,Hard Mix,Difference,Exclusion,Contrast,Decontrast,Hue,Saturation,Color,Luminance,Burn Highlights,Burn Midrange,Burn Shadows,Dodge Highlights,Dodge Midrange,Dodge Shadows,Sponge Desaturate,Invert,Inverse Difference,Paint Flow Vectors,Nudge Flow Vectors,Paint Normal Vectors,Nudge Normal Vectors,Scale Vectors,Add Normal Maps,Mix Normal Maps,Mix Reoriented Normal Maps" AttribName="BlendMode" GroupHints="1" PrettyName="Mode" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="Comp_Default,Comp_Default,Comp_Copy,Comp_CopyRGB,Comp_Clear,Comp_Darken,Comp_Add,Comp_Multiply,Comp_ColorBurn,Comp_Lighten,Comp_Screen,Comp_ColorDodge,Comp_Overlay,Comp_SoftLight,Comp_HardLight,Comp_VividLight,Comp_PinLight,Comp_HardMix,Comp_Difference,Comp_Exclusion,Comp_Contrast,Comp_Decontrast,Comp_Hue,Comp_Saturation,Comp_Color,Comp_Luminance,Comp_BurnHighlights,Comp_BurnMidrange,Comp_BurnShadows,Comp_DodgeHighlights,Comp_DodgeMidrange,Comp_DodgeShadows,Comp_SpongeDesaturate,Comp_Invert,Comp_InverseDifference,Comp_VecDefault2d,Comp_VecAdd2d,Comp_VecDefault3d,Comp_VecAdd3d,Comp_VecScale3d,Comp_AddRGBEncodedNormals,Comp_MixRGBEncodedNormals,Comp_ReorientedNormalMappingRGBEncodedNormals,Normal,Copy,CopyRGB,Clear,Darken,Add,Multiply,Color Burn,Lighten,Screen,Color Dodge,Overlay,Soft Light,Hard Light,Vivid Light,Pin Light,Hard Mix,Difference,Exclusion,Contrast,Decontrast,Hue,Saturation,Color,Luminance,Burn Highlights,Burn Midrange,Burn Shadows,Dodge Highlights,Dodge Midrange,Dodge Shadows,Sponge Desaturate,Invert,Inverse Difference,Paint Flow Vectors,Nudge Flow Vectors,Paint Normal Vectors,Nudge Normal Vectors,Scale Vectors,Add Normal Maps,Mix Normal Maps,Mix Reoriented Normal Maps" Max="">Comp_Default,Comp_Default,Comp_Copy,Comp_CopyRGB,Comp_Clear,Comp_Darken,Comp_Add,Comp_Multiply,Comp_ColorBurn,Comp_Lighten,Comp_Screen,Comp_ColorDodge,Comp_Overlay,Comp_SoftLight,Comp_HardLight,Comp_VividLight,Comp_PinLight,Comp_HardMix,Comp_Difference,Comp_Exclusion,Comp_Contrast,Comp_Decontrast,Comp_Hue,Comp_Saturation,Comp_Color,Comp_Luminance,Comp_BurnHighlights,Comp_BurnMidrange,Comp_BurnShadows,Comp_DodgeHighlights,Comp_DodgeMidrange,Comp_DodgeShadows,Comp_SpongeDesaturate,Comp_Invert,Comp_InverseDifference,Comp_VecDefault2d,Comp_VecAdd2d,Comp_VecDefault3d,Comp_VecAdd3d,Comp_VecScale3d,Comp_AddRGBEncodedNormals,Comp_MixRGBEncodedNormals,Comp_ReorientedNormalMappingRGBEncodedNormals,Normal,Copy,CopyRGB,Clear,Darken,Add,Multiply,Color Burn,Lighten,Screen,Color Dodge,Overlay,Soft Light,Hard Light,Vivid Light,Pin Light,Hard Mix,Difference,Exclusion,Contrast,Decontrast,Hue,Saturation,Color,Luminance,Burn Highlights,Burn Midrange,Burn Shadows,Dodge Highlights,Dodge Midrange,Dodge Shadows,Sponge Desaturate,Invert,Inverse Difference,Paint Flow Vectors,Nudge Flow Vectors,Paint Normal Vectors,Nudge Normal Vectors,Scale Vectors,Add Normal Maps,Mix Normal Maps,Mix Reoriented Normal Maps</BlendMode>
       <Component TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="0,0,1,2,3,4,Grayscale,Red,Green,Blue,Luminance" AttribName="Component" GroupHints="1" PrettyName="Component" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0,0,1,2,3,4,Grayscale,Red,Green,Blue,Luminance" Max="">0,0,1,2,3,4,Grayscale,Red,Green,Blue,Luminance</Component>
       <SwizzleA TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="Output.a,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero" AttribName="SwizzleA" GroupHints="1" PrettyName="Swizzle Alpha" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="Output.a,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero" Max="">Output.a,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero</SwizzleA>
       <SwizzleB TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="Output.b,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero" AttribName="SwizzleB" GroupHints="1" PrettyName="Swizzle Blue" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="Output.b,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero" Max="">Output.b,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero</SwizzleB>
       <SwizzleG TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="Output.g,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero" AttribName="SwizzleG" GroupHints="1" PrettyName="Swizzle Green" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="Output.g,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero" Max="">Output.g,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero</SwizzleG>
       <SwizzleR TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="Output.r,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero" AttribName="SwizzleR" GroupHints="1" PrettyName="Swizzle Red" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="Output.r,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero" Max="">Output.r,Output.r,Output.g,Output.b,Output.a,1.0,0.0,Red,Green,Blue,Alpha,One,Zero</SwizzleR>
       <_LayerSplitter TypeFlags="0" Enabled="true" Visible="false" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="_LayerSplitter" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="30" Removeable="true" Default="" Max="">000000ff00000000000000020000013b0000000400000000040100000002</_LayerSplitter>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{62dd4391-689b-4b89-be87-0f3d8bdfb613}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Merge</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{9384e2c2-a7ab-4e0b-be1b-94a20e5c2be0}</uuidString>
         <position Type="QPointF">978.675,-1182.01</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <ModoRender Type="MriSnStandardContext">
        <objectName Type="QString">ModoRender</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{5842a980-74b8-4a38-b32f-710532b7427b}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <supportedAttributes Type="QStringList"/>
        <MriNodeContextPropertyVisible TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="false" Type="bool" Reset="" AttribName="MriNodeContextPropertyVisible" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="23" Removeable="true" Default="" Max="">false</MriNodeContextPropertyVisible>
        <PythonCommands TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="false" Type="QString" Reset="" AttribName="PythonCommands" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="23" Removeable="true" Default="" Max="">
blendAmount = node.metadata("Amount")

# Create BlendAmount as input so that we can use it as an input into internal nodes
lx.eval('!channel.create BlendAmount mode:float item:%s username:BlendAmount' % groupId )
lx.eval('!assembly.assignChannel input {%s:BlendAmount}' % groupId )
lx.eval('!item.channel BlendAmount %s' % blendAmount)

# Alpha Blend a+b-ab

# b = Mask.r * BlendAmount * Over.a
lx.eval('!channelModifier.create "cmMathBasic:mul" insert:true')
modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
b0 = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (b0,groupId,-10,-10) )
lx.eval('!channel.link add {%s:Mask.R} {%s:input1}' % (groupId,b0) )
lx.eval('!channel.link add {%s:BlendAmount} {%s:input2}' % (groupId,b0) )

lx.eval('!channelModifier.create "cmMathBasic:mul" insert:true')
modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
b = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (b,groupId,0,0) )
lx.eval('!channel.link add {%s:output} {%s:input1}' % (b0,b) )
lx.eval('!channel.link add {%s:Over.A} {%s:input2}' % (groupId,b) )

# a+b
lx.eval('!channelModifier.create "cmMathBasic:add" insert:true')
modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
apb = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (apb,groupId,10,-10) )
lx.eval('!channel.link add {%s:Base.A} {%s:input1}' % (groupId,apb) )
lx.eval('!channel.link add {%s:output} {%s:input2}' % (b,apb) )

# ab
lx.eval('!channelModifier.create "cmMathBasic:mul" insert:true')
modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
ab = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (ab,groupId,10,10) )
lx.eval('!channel.link add {%s:Base.A} {%s:input1}' % (groupId,ab) )
lx.eval('!channel.link add {%s:output} {%s:input2}' % (b,ab) )

# (a+b)-(ab)
lx.eval('!channelModifier.create "cmMathBasic:sub" insert:true')
modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
alphaBlend = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (alphaBlend,groupId,20,0) )
lx.eval('!channel.link add {%s:output} {%s:input1}' % (apb,alphaBlend) )
lx.eval('!channel.link add {%s:output} {%s:input2}' % (ab,alphaBlend) )

# Check if the alphaBlend alpha value is 0
lx.eval('!channelModifier.create "cmLogic:notEqual" insert:true')
modoNodeCount = lx.eval1('!query sceneservice cmLogic.N ?')
alphaBlendCheck = lx.eval1('!query sceneservice cmLogic.id ? %s' % str(int(modoNodeCount)-1) ) 
lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (alphaBlendCheck,groupId,40,0) )

lx.eval('!shaderNode.create constant')
lx.eval('!item.channel constant$value %s' % 0.0 )
modoNodeCount = lx.eval1('!query sceneservice constant.N ?')
zero = lx.eval1('!query sceneservice constant.id ? %s' % str(int(modoNodeCount)-1) ) 
lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (zero,groupId,20,10) )
lx.eval('!channel.link add {%s:value} {%s:input1}' % (zero, alphaBlendCheck ) )
lx.eval('!channel.link add {%s:output} {%s:input2}' % (alphaBlend, alphaBlendCheck ) )

# Create constant 1.0 for inverting mask
lx.eval('!shaderNode.create constant')
modoNodeCount = lx.eval1('!query sceneservice constant.N ?')
one = lx.eval1('!query sceneservice constant.id ? %s' % str(int(modoNodeCount)-1) ) 
lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (one,groupId,20,20) )

# Inverted AlphaBlendCheck
lx.eval('!channelModifier.create "cmMathBasic:sub" insert:true')
modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
invertedAlphaBlendCheck = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (invertedAlphaBlendCheck,groupId,50,20) )
lx.eval('!channel.link add {%s:value} {%s:input1}' % (one,invertedAlphaBlendCheck) )
lx.eval('!channel.link add {%s:result} {%s:input2}' % (alphaBlendCheck,invertedAlphaBlendCheck) )


# (a - ab) * Base.rgb + Over.a * Over.rgb
# a - ab
lx.eval('!channelModifier.create "cmMathBasic:sub" insert:true')
modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
baseScalar = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (baseScalar,groupId,20,-20) )
lx.eval('!channel.link add {%s:Base.A} {%s:input1}' % (groupId,baseScalar) )
lx.eval('!channel.link add {%s:output} {%s:input2}' % (ab,baseScalar) )

components = ["R","G","B"]
componentOuts = []

for i in range(3):
    component = components[i]

    #(a - ab) * Base.rgb
    lx.eval('!channelModifier.create "cmMathBasic:mul" insert:true')
    modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
    baseMultiplied = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
    lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (baseMultiplied,groupId,40,-60+20*i) )
    lx.eval('!channel.link add {%s:output} {%s:input1}' % (baseScalar,baseMultiplied) )
    lx.eval('!channel.link add {%s:Base.%s} {%s:input2}' % (groupId,component,baseMultiplied) )

    # b * Over.rgb
    lx.eval('!channelModifier.create "cmMathBasic:mul" insert:true')
    modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
    overMultiplied = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
    lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (overMultiplied,groupId,40,-50+20*i) )
    lx.eval('!channel.link add {%s:Over.%s} {%s:input1}' % (groupId,component,overMultiplied) )
    lx.eval('!channel.link add {%s:output} {%s:input2}' % (b,overMultiplied) )

    # (a - ab) * Base.rgb + b * Over.rgb
    lx.eval('!channelModifier.create "cmMathBasic:add" insert:true')
    modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
    colorAdded = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
    lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (colorAdded,groupId,50,-55+20*i) )
    lx.eval('!channel.link add {%s:output} {%s:input1}' % (baseMultiplied,colorAdded) )
    lx.eval('!channel.link add {%s:output} {%s:input2}' % (overMultiplied,colorAdded) )

    # ( (a - ab) * Base.rgb + b * Over.rgb) / (a+b)-(ab)

    lx.eval('!channelModifier.create "cmMathBasic:div" insert:true')
    modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
    divided = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
    lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (divided,groupId,60,-50+20*i) )
    lx.eval('!channel.link add {%s:output} {%s:input1}' % (colorAdded,divided) )
    lx.eval('!channel.link add {%s:output} {%s:input2}' % (alphaBlend,divided) )

    # ( ( (a - ab) * Base.rgb + b * Over.rgb) / (a+b)-(ab) ) * AlphaBlendCheck
    lx.eval('!channelModifier.create "cmMathBasic:mul" insert:true')
    modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
    overTimesMask = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
    lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (overTimesMask,groupId,70,-55+20*i) )
    lx.eval('!channel.link add {%s:output} {%s:input1}' % (divided,overTimesMask) )
    lx.eval('!channel.link add {%s:result} {%s:input2}' % (alphaBlendCheck,overTimesMask) )

    # Base.rgb * (1 - AlphaBlendCheck)
    lx.eval('!channelModifier.create "cmMathBasic:mul" insert:true')
    modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
    baseTimesInvertedMask = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
    lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (baseTimesInvertedMask,groupId,70,-45+20*i) )
    lx.eval('!channel.link add {%s:Base.%s} {%s:input1}' % (groupId,component,baseTimesInvertedMask) )
    lx.eval('!channel.link add {%s:output} {%s:input2}' % (invertedAlphaBlendCheck,baseTimesInvertedMask) )

    # If the new alpha is 0, return Base otherwise the blended color
    # ( ( (a - ab) * Base.rgb + b * Over.rgb) / (a+b)-(ab) ) * Mask
    #       +
    # Base.rgb * (1 - Mask)
    lx.eval('!channelModifier.create "cmMathBasic:add" insert:true')
    modoNodeCount = lx.eval1('!query sceneservice cmMathBasic.N ?')
    finalAdd = lx.eval1('!query sceneservice cmMathBasic.id ? %s' % str(int(modoNodeCount)-1) ) 
    lx.eval('!schematic.addItem %s %s posX:%s posY:%s' % (finalAdd,groupId,80,-50+20*i) )
    lx.eval('!channel.link add {%s:output} {%s:input1}' % (overTimesMask,finalAdd) )
    lx.eval('!channel.link add {%s:output} {%s:input2}' % (baseTimesInvertedMask,finalAdd) )

    componentOuts.append(finalAdd)

# Connect to assembly output
lx.eval('!channel.link add {%s:output} {%s:Output.R}' % (componentOuts[0],groupId) )
lx.eval('!channel.link add {%s:output} {%s:Output.G}' % (componentOuts[1],groupId) )
lx.eval('!channel.link add {%s:output} {%s:Output.B}' % (componentOuts[2],groupId) )
lx.eval('!channel.link add {%s:output} {%s:Output.A}' % (alphaBlend,groupId) )

# Set the default values for Mask to be (1,1,1,1)
lx.eval('channel.value 1.0 channel:{%s:Mask.R}' % groupId)
lx.eval('channel.value 1.0 channel:{%s:Mask.G}' % groupId)
lx.eval('channel.value 1.0 channel:{%s:Mask.B}' % groupId)
lx.eval('channel.value 1.0 channel:{%s:Mask.A}' % groupId)
</PythonCommands>
       </ModoRender>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{276c9953-bb1e-4170-b593-7ed3a99e74df}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    if( 0 != $AdvancedEnabled)
    {
        // this is used to control what component we are pulling the key from
        vec3 Mult[5];

        Mult[0] = vec3(1.0/3.0,1.0/3.0,1.0/3.0);
        Mult[1] = vec3(1,0,0);
        Mult[2] = vec3(0,1,0);
        Mult[3] = vec3(0,0,1);
        Mult[4] = vec3(0.2126,0.7152,0.0722);


        // Calculate the amount from the component
        // a Mult value of (1,0,0) will isolate the red value
        // A mult value of (1,1,1) will give a gray scale

        float ThisAmount = dot(#Over.rgb , Mult[$Component]);
        float BelowAmount = dot(#Base.rgb , Mult[$Component]);

        // now that we've pulled the component out of above and below
        // we lookup into the lut to find out the amount to scale the alpha values by

        float ThisAlpha  = mriCurveLookup($BlendIfThis,ThisAmount);
        float BelowAlpha = mriCurveLookup($BlendIfBelow,BelowAmount);

        // now we multiply the base alpha value by both values

        float AdvancedBlendAmount = ThisAlpha * BelowAlpha;
        if( 0 != $AmountEnabled)
        {
            AdvancedBlendAmount *= $Amount;
        }

        Output = $BlendMode(#Base, #Over, #Mask.r * AdvancedBlendAmount);
    }
    else
    {
        float BlendAmount = 1;
        if( 0 != $AmountEnabled)
        {
            BlendAmount *= $Amount;
        }
        Output = $BlendMode(#Base, #Over, BlendAmount * #Mask.r);
    }

    Output = vec4( $SwizzleR, $SwizzleG, $SwizzleB, $SwizzleA);

                </Expression>
        <m_defaultInputMap Size="1" map0="Mask:0:vec4(1,1,1,1)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="3" map0="Base:{dafd8859-9911-438f-9016-90a816ada13a}:Output" Type="QString" map1="Over::Output" map2="Mask::Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Manifold 3D</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{a06a0fb9-d162-47c7-aa37-d342d3b783b8}</uuidString>
       <prefferedInput Type="QString">Coordinates</prefferedInput>
       <preferredInput Type="QString">Coordinates</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Manifold 3D</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">Transform Scale/WorldScale,Transform Scale/scaleX,Transform Scale/scaleY,Transform Scale/scaleZ,Transform Rotate/rotateX,Transform Rotate/rotateY,Transform Rotate/rotateZ,Transform Translate/transX,Transform Translate/transY,Transform Translate/transZ</nodeAttributes>
       <tags Type="QStringList"/>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0</cost>
       <costDescription Type="QString"/>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">JK_Transform3D</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0fabaaca</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <WorldScale TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="WorldScale" GroupHints="1" PrettyName="WorldScale" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="">1</WorldScale>
       <rotateX TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="rotateX" GroupHints="1" PrettyName="Rotate X" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="360">0</rotateX>
       <rotateY TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="rotateY" GroupHints="1" PrettyName="Rotate Y" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="360">0</rotateY>
       <rotateZ TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="rotateZ" GroupHints="1" PrettyName="Rotate Z" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="360">0</rotateZ>
       <scaleX TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="scaleX" GroupHints="1" PrettyName="Scale X" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="100">1</scaleX>
       <scaleY TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="scaleY" GroupHints="1" PrettyName="Scale Y" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="100">1</scaleY>
       <scaleZ TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="scaleZ" GroupHints="1" PrettyName="Scale Z" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="100">1</scaleZ>
       <transX TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="transX" GroupHints="1" PrettyName="Translate X" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100">0</transX>
       <transY TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="transY" GroupHints="1" PrettyName="Translate Y" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100">0</transY>
       <transZ TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="transZ" GroupHints="1" PrettyName="Translate Z" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100">0</transZ>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{c6994440-c6b8-4fdb-8043-d37e9204c33f}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Manifold 3D</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{f46ae61b-2cf3-4876-b5c1-a307920cf9a6}</uuidString>
         <position Type="QPointF">227.586,-137.883</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="4" map0="Scale:0,0,-100,30" Type="QString" map1="Coordinates:0,0,0,-50" map2="Rotate:0,0,-100,0" map3="Translate:0,0,-100,-30" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{1ebfcb99-011a-4850-87d6-448d4b197a7c}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Initialize Sliders
    float INIT = $scaleX; INIT = $scaleY; INIT = $scaleZ; INIT = $WorldScale;
    INIT = $rotateX; INIT = $rotateY; INIT = $rotateZ;
    INIT = $transX; INIT = $transY; INIT = $transZ;


    Output =  vec4( positionTransform(#Coordinates.xyz,#Translate.xyz,#Rotate.xyz,vec3(1.0)/#Scale.xyz),1.0);

                </Expression>
        <m_defaultInputMap Size="8" map0="Coordinates:35632:vec4(State.Position,1.0)" Type="QString" map1="Rotate:35632:vec4($rotateX,$rotateY,$rotateZ,1.0)" map2="Scale:35632:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map3="Translate:35632:vec4($transX,$transY,$transZ,1.0)" ContainerType="QHash" map4="Coordinates:36487:vec4(State.Position,1.0)" map5="Rotate:36487:vec4($rotateX,$rotateY,$rotateZ,1.0)" map6="Scale:36487:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map7="Translate:36487:vec4($transX,$transY,$transZ,1.0)"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{02f594e9-2fdf-45c8-8299-af93a22c5e2f}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">36487</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Initialize Sliders
    float INIT = $scaleX; INIT = $scaleY; INIT = $scaleZ; INIT = $WorldScale;
    INIT = $rotateX; INIT = $rotateY; INIT = $rotateZ;
    INIT = $transX; INIT = $transY; INIT = $transZ;


    Output =  vec4( positionTransform(#Coordinates.xyz,#Translate.xyz,#Rotate.xyz,vec3(1.0)/#Scale.xyz),1.0);

                </Expression>
        <m_defaultInputMap Size="8" map0="Coordinates:35632:vec4(State.Position,1.0)" Type="QString" map1="Rotate:35632:vec4($rotateX,$rotateY,$rotateZ,1.0)" map2="Scale:35632:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map3="Translate:35632:vec4($transX,$transY,$transZ,1.0)" ContainerType="QHash" map4="Coordinates:36487:vec4(State.Position,1.0)" map5="Rotate:36487:vec4($rotateX,$rotateY,$rotateZ,1.0)" map6="Scale:36487:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map7="Translate:36487:vec4($transX,$transY,$transZ,1.0)"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{2730b8b8-1a53-4909-a494-8e95e4a1c555}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">35632</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Initialize Sliders
    float INIT = $scaleX; INIT = $scaleY; INIT = $scaleZ; INIT = $WorldScale;
    INIT = $rotateX; INIT = $rotateY; INIT = $rotateZ;
    INIT = $transX; INIT = $transY; INIT = $transZ;


    Output =  vec4( positionTransform(#Coordinates.xyz,#Translate.xyz,#Rotate.xyz,vec3(1.0)/#Scale.xyz),1.0);

                </Expression>
        <m_defaultInputMap Size="8" map0="Coordinates:35632:vec4(State.Position,1.0)" Type="QString" map1="Rotate:35632:vec4($rotateX,$rotateY,$rotateZ,1.0)" map2="Scale:35632:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map3="Translate:35632:vec4($transX,$transY,$transZ,1.0)" ContainerType="QHash" map4="Coordinates:36487:vec4(State.Position,1.0)" map5="Rotate:36487:vec4($rotateX,$rotateY,$rotateZ,1.0)" map6="Scale:36487:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map7="Translate:36487:vec4($transX,$transY,$transZ,1.0)"/>
       </GLSL>
       <m_input2node Size="4" map0="Coordinates:{e9b4b560-4abd-45ee-9f70-a9cbe4a71e35}:Output" Type="QString" map1="Scale::Output" map2="Rotate::Output" map3="Translate::Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Type="QString" ContainerType="QHash" Coordinates="3D Coordinates"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Invert</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{56c37e30-62fa-4518-acf8-8e6436f8896a}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Invert</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/Red,/Green,/Blue,/Alpha</nodeAttributes>
       <tags Type="QStringList">_adjustment</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Filter_Invert</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0b133a8a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <Alpha TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="false" AttribName="Alpha" GroupHints="1" PrettyName="Alpha" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="false" Max="false">false</Alpha>
       <Blue TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="Blue" GroupHints="1" PrettyName="Blue" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="false">true</Blue>
       <Green TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="Green" GroupHints="1" PrettyName="Green" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="false">true</Green>
       <Red TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="Red" GroupHints="1" PrettyName="Red" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="false">true</Red>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{da393ef2-c25d-4e33-a6a5-41042dbf51f1}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Invert</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{a32dbcc6-1af2-405d-8a22-7714b1541c25}</uuidString>
         <position Type="QPointF">548.166,-603.832</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{e8672aec-cf89-4e93-928b-bb0a227e9499}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    Output   = #Input;
    Output.r = $Red   ? clamp(1.0 - Output.r, 0.0, 1.0) : Output.r;
    Output.g = $Green ? clamp(1.0 - Output.g, 0.0, 1.0) : Output.g;
    Output.b = $Blue  ? clamp(1.0 - Output.b, 0.0, 1.0) : Output.b;
    Output.a = $Alpha ? clamp(1.0 - Output.a, 0.0, 1.0) : Output.a;
            </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(1,1,1,1)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{ee4c34b0-81d4-466c-9535-b4e0a91d3851}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input=" " Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Cloud</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{d23d918d-2fb9-489b-907c-6f21d81d02dd}</uuidString>
       <prefferedInput Type="QString">Position</prefferedInput>
       <preferredInput Type="QString">Position</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Cloud</name>
       <defaultDescription Type="QString"/>
       <description Type="QString">Cloud pattern generated from multiple octaves of Perlin Noise</description>
       <nodeAttributes Type="QStringList">/Size,/Roughness,Color/colorA,Color/colorB,Offsets/XOffset,Offsets/YOffset,Offsets/ZOffset</nodeAttributes>
       <tags Type="QStringList"/>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.1</cost>
       <costDescription Type="QString">Texture reads</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Procedural_Fractal_Cloud</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0575400a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <Roughness TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.5" AttribName="Roughness" GroupHints="1" PrettyName="Roughness" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.5" Max="2">1.06500005058479</Roughness>
       <Size TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.5" AttribName="Size" GroupHints="1" PrettyName="Size" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.5" Max="2">0.8240000391379</Size>
       <XOffset TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="XOffset" GroupHints="1" PrettyName="X Offset" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100000">0</XOffset>
       <YOffset TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="YOffset" GroupHints="1" PrettyName="Y Offset" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100000">0</YOffset>
       <ZOffset TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="ZOffset" GroupHints="1" PrettyName="Z Offset" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100000">0</ZOffset>
       <colorA TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriColor" Reset="(1,1,1,1)" AttribName="colorA" GroupHints="1" PrettyName="Color A" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="(1,1,1,1)" Max="">(1,1,1,1)</colorA>
       <colorB TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriColor" Reset="(0,0,0,1)" AttribName="colorB" GroupHints="1" PrettyName="Color B" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="(0,0,0,1)" Max="">(0,0,0,1)</colorB>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{26b09d28-1be4-4795-ab58-1a79ac34bd02}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Cloud</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{d9d34e6a-0fb5-4463-a36f-6ddd502670c3}</uuidString>
         <position Type="QPointF">227.884,-347.032</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{c54d5c96-e791-4713-a74b-b6e72513a13c}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    float size = $Size;
    float roughness = $Roughness;
    vec3 seed = #Position.xyz + vec3($XOffset,$YOffset,$ZOffset);
    float noise_val = 0.0;
    float size_pow = (pow(10000.0,size*size)-1.0) + 0.0001;
    float sharpness = log2(1.0+99.0*roughness)/log2(100.0);
    for(int i=0;i&lt;10;i++)
    {
        vec3 scaled_seed = pow(2.0,float(i)) * seed.rgb / size_pow;
        noise_val += noise(scaled_seed)/pow(5.0-4.0*sharpness,float(i));
    }
    noise_val = noise_val*0.5 + 0.5;
    Output = mix($colorB,$colorA,noise_val);
                </Expression>
        <m_defaultInputMap Size="2" map0="Position:35632:State.Position" Type="QString" map1="Position:36487:State.Position" ContainerType="QHash"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{3130cd27-baec-400a-852d-1b9be2da126f}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">36487</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    float size = $Size;
    float roughness = $Roughness;
    vec3 seed = #Position.xyz + vec3($XOffset,$YOffset,$ZOffset);
    float noise_val = 0.0;
    float size_pow = (pow(10000.0,size*size)-1.0) + 0.0001;
    float sharpness = log2(1.0+99.0*roughness)/log2(100.0);
    for(int i=0;i&lt;10;i++)
    {
        vec3 scaled_seed = pow(2.0,float(i)) * seed.rgb / size_pow;
        noise_val += noise(scaled_seed)/pow(5.0-4.0*sharpness,float(i));
    }
    noise_val = noise_val*0.5 + 0.5;
    Output = mix($colorB,$colorA,noise_val);
                </Expression>
        <m_defaultInputMap Size="2" map0="Position:35632:State.Position" Type="QString" map1="Position:36487:State.Position" ContainerType="QHash"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{a8af3864-6d32-40d1-a89d-3bfd196128f1}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">35632</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    float size = $Size;
    float roughness = $Roughness;
    vec3 seed = #Position.xyz + vec3($XOffset,$YOffset,$ZOffset);
    float noise_val = 0.0;
    float size_pow = (pow(10000.0,size*size)-1.0) + 0.0001;
    float sharpness = log2(1.0+99.0*roughness)/log2(100.0);
    for(int i=0;i&lt;10;i++)
    {
        vec3 scaled_seed = pow(2.0,float(i)) * seed.rgb / size_pow;
        noise_val += noise(scaled_seed)/pow(5.0-4.0*sharpness,float(i));
    }
    noise_val = noise_val*0.5 + 0.5;
    Output = mix($colorB,$colorA,noise_val);
                </Expression>
        <m_defaultInputMap Size="2" map0="Position:35632:State.Position" Type="QString" map1="Position:36487:State.Position" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Position:{a06a0fb9-d162-47c7-aa37-d342d3b783b8}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Transition</objectName>
       <selected Type="bool">true</selected>
       <uuidString Type="QString">{1f380953-b45c-4a97-8059-7552e8ff2849}</uuidString>
       <prefferedInput Type="QString">A</prefferedInput>
       <preferredInput Type="QString">A</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Transition</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/Trans_Type,/BlendMode,/Contrast</nodeAttributes>
       <tags Type="QStringList"/>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0</cost>
       <costDescription Type="QString"/>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">JK_Transition</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0397768a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <BlendMode TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="Comp_Default,Comp_Default,Comp_Copy,Comp_CopyRGB,Comp_Clear,Comp_Darken,Comp_Add,Comp_Multiply,Comp_ColorBurn,Comp_Lighten,Comp_Screen,Comp_ColorDodge,Comp_Overlay,Comp_SoftLight,Comp_HardLight,Comp_VividLight,Comp_PinLight,Comp_HardMix,Comp_Difference,Comp_Exclusion,Comp_Contrast,Comp_Decontrast,Comp_Hue,Comp_Saturation,Comp_Color,Comp_Luminance,Comp_BurnHighlights,Comp_BurnMidrange,Comp_BurnShadows,Comp_DodgeHighlights,Comp_DodgeMidrange,Comp_DodgeShadows,Comp_SpongeDesaturate,Comp_Invert,Comp_InverseDifference,Comp_VecDefault2d,Comp_VecAdd2d,Comp_VecDefault3d,Comp_VecAdd3d,Comp_VecScale3d,Comp_AddRGBEncodedNormals,Comp_MixRGBEncodedNormals,Comp_ReorientedNormalMappingRGBEncodedNormals,Normal,Copy,CopyRGB,Clear,Darken,Add,Multiply,Color Burn,Lighten,Screen,Color Dodge,Overlay,Soft Light,Hard Light,Vivid Light,Pin Light,Hard Mix,Difference,Exclusion,Contrast,Decontrast,Hue,Saturation,Color,Luminance,Burn Highlights,Burn Midrange,Burn Shadows,Dodge Highlights,Dodge Midrange,Dodge Shadows,Sponge Desaturate,Invert,Inverse Difference,Paint Flow Vectors,Nudge Flow Vectors,Paint Normal Vectors,Nudge Normal Vectors,Scale Vectors,Add Normal Maps,Mix Normal Maps,Mix Reoriented Normal Maps" AttribName="BlendMode" GroupHints="1" PrettyName="Mode" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="Comp_Default,Comp_Default,Comp_Copy,Comp_CopyRGB,Comp_Clear,Comp_Darken,Comp_Add,Comp_Multiply,Comp_ColorBurn,Comp_Lighten,Comp_Screen,Comp_ColorDodge,Comp_Overlay,Comp_SoftLight,Comp_HardLight,Comp_VividLight,Comp_PinLight,Comp_HardMix,Comp_Difference,Comp_Exclusion,Comp_Contrast,Comp_Decontrast,Comp_Hue,Comp_Saturation,Comp_Color,Comp_Luminance,Comp_BurnHighlights,Comp_BurnMidrange,Comp_BurnShadows,Comp_DodgeHighlights,Comp_DodgeMidrange,Comp_DodgeShadows,Comp_SpongeDesaturate,Comp_Invert,Comp_InverseDifference,Comp_VecDefault2d,Comp_VecAdd2d,Comp_VecDefault3d,Comp_VecAdd3d,Comp_VecScale3d,Comp_AddRGBEncodedNormals,Comp_MixRGBEncodedNormals,Comp_ReorientedNormalMappingRGBEncodedNormals,Normal,Copy,CopyRGB,Clear,Darken,Add,Multiply,Color Burn,Lighten,Screen,Color Dodge,Overlay,Soft Light,Hard Light,Vivid Light,Pin Light,Hard Mix,Difference,Exclusion,Contrast,Decontrast,Hue,Saturation,Color,Luminance,Burn Highlights,Burn Midrange,Burn Shadows,Dodge Highlights,Dodge Midrange,Dodge Shadows,Sponge Desaturate,Invert,Inverse Difference,Paint Flow Vectors,Nudge Flow Vectors,Paint Normal Vectors,Nudge Normal Vectors,Scale Vectors,Add Normal Maps,Mix Normal Maps,Mix Reoriented Normal Maps" Max="">Comp_Contrast,Comp_Default,Comp_Copy,Comp_CopyRGB,Comp_Clear,Comp_Darken,Comp_Add,Comp_Multiply,Comp_ColorBurn,Comp_Lighten,Comp_Screen,Comp_ColorDodge,Comp_Overlay,Comp_SoftLight,Comp_HardLight,Comp_VividLight,Comp_PinLight,Comp_HardMix,Comp_Difference,Comp_Exclusion,Comp_Contrast,Comp_Decontrast,Comp_Hue,Comp_Saturation,Comp_Color,Comp_Luminance,Comp_BurnHighlights,Comp_BurnMidrange,Comp_BurnShadows,Comp_DodgeHighlights,Comp_DodgeMidrange,Comp_DodgeShadows,Comp_SpongeDesaturate,Comp_Invert,Comp_InverseDifference,Comp_VecDefault2d,Comp_VecAdd2d,Comp_VecDefault3d,Comp_VecAdd3d,Comp_VecScale3d,Comp_AddRGBEncodedNormals,Comp_MixRGBEncodedNormals,Comp_ReorientedNormalMappingRGBEncodedNormals,Normal,Copy,CopyRGB,Clear,Darken,Add,Multiply,Color Burn,Lighten,Screen,Color Dodge,Overlay,Soft Light,Hard Light,Vivid Light,Pin Light,Hard Mix,Difference,Exclusion,Contrast,Decontrast,Hue,Saturation,Color,Luminance,Burn Highlights,Burn Midrange,Burn Shadows,Dodge Highlights,Dodge Midrange,Dodge Shadows,Sponge Desaturate,Invert,Inverse Difference,Paint Flow Vectors,Nudge Flow Vectors,Paint Normal Vectors,Nudge Normal Vectors,Scale Vectors,Add Normal Maps,Mix Normal Maps,Mix Reoriented Normal Maps</BlendMode>
       <Contrast TypeFlags="0" Enabled="true" Visible="true" Min="1" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="3" AttribName="Contrast" GroupHints="1" PrettyName="Contrast B" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="3" Max="10">3.23900010634679</Contrast>
       <Trans_Type TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriStringList" Reset="B over A by (PatternToBlack by Transition),B over A by (Transition),B over A by (Pattern),B over A by (Transition*Pattern),B over A by (WhiteToBlack),B over A by (PatternToBlack by Transition),B over A by (WhiteToPattern by Transition)" AttribName="Trans_Type" GroupHints="1" PrettyName="Transition" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="B over A by (PatternToBlack by Transition),B over A by (Transition),B over A by (Pattern),B over A by (Transition*Pattern),B over A by (WhiteToBlack),B over A by (PatternToBlack by Transition),B over A by (WhiteToPattern by Transition)" Max="">B over A by (PatternToBlack by Transition),B over A by (Transition),B over A by (Pattern),B over A by (Transition*Pattern),B over A by (WhiteToBlack),B over A by (PatternToBlack by Transition),B over A by (WhiteToPattern by Transition)</Trans_Type>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{f606687c-46fa-4103-8841-8ef43435e1c7}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Transition</objectName>
         <selected Type="bool">true</selected>
         <uuidString Type="QString">{c062a335-1fdc-4bb8-9f0f-c9c1074cbd68}</uuidString>
         <position Type="QPointF">545.856,-327.717</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="4" map0="Transition:0,0,100,-50" Type="QString" map1="Pattern:0,0,-100,-50" map2="A:0,0,-30,-50" map3="B:0,0,30,-50" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{f9e73ae6-dc82-4c65-9c38-b4ac94f9fae3}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    float alpha = 0;
    vec4 A_B_unmapped = (#A-vec4(0.5))*$Contrast+vec4(0.5);
    vec4 B_Handle = ( #B == vec4(9999.0) ) ? A_B_unmapped : #B ;



    if($Trans_Type==0)
    {
      alpha = #Transition.r;
    }
    else if($Trans_Type==1)
    {
      alpha = #Pattern.r;
    }
    else if($Trans_Type==2)
    {
      alpha = #Transition.r * #Pattern.r;
    }
    else if($Trans_Type==3)
    {
      alpha = clamp(#Pattern.r + (2.0*(#Transition.r-0.5)), 0.0, 1.0);
    }
    else if($Trans_Type==4)
    {
      alpha = Comp_Default( vec4(0.0,0.0,0.0,1.0), #Pattern, #Transition.r).r;
    }
    else if($Trans_Type==5)
    {
      alpha = Comp_Default( #Pattern, vec4(1.0,1.0,1.0,1.0), #Transition.r).r;
    }



    Output = clamp( $BlendMode(#A, B_Handle, alpha),vec4(0.0),vec4(1.0) );

                </Expression>
        <m_defaultInputMap Size="8" map0="A:35632:vec4(9999.0)" Type="QString" map1="B:35632:vec4(9999.0)" map2="Pattern:35632:vec4(0.5)" map3="Transition:35632:vec4(0.5)" ContainerType="QHash" map4="A:36487:vec4(9999.0)" map5="B:36487:vec4(9999.0)" map6="Pattern:36487:vec4(0.5)" map7="Transition:36487:vec4(0.5)"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{fe63d348-822c-4836-a50b-5d4d0d80a732}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">36487</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    float alpha = 0;
    vec4 A_B_unmapped = (#A-vec4(0.5))*$Contrast+vec4(0.5);
    vec4 B_Handle = ( #B == vec4(9999.0) ) ? A_B_unmapped : #B ;



    if($Trans_Type==0)
    {
      alpha = #Transition.r;
    }
    else if($Trans_Type==1)
    {
      alpha = #Pattern.r;
    }
    else if($Trans_Type==2)
    {
      alpha = #Transition.r * #Pattern.r;
    }
    else if($Trans_Type==3)
    {
      alpha = clamp(#Pattern.r + (2.0*(#Transition.r-0.5)), 0.0, 1.0);
    }
    else if($Trans_Type==4)
    {
      alpha = Comp_Default( vec4(0.0,0.0,0.0,1.0), #Pattern, #Transition.r).r;
    }
    else if($Trans_Type==5)
    {
      alpha = Comp_Default( #Pattern, vec4(1.0,1.0,1.0,1.0), #Transition.r).r;
    }



    Output = clamp( $BlendMode(#A, B_Handle, alpha),vec4(0.0),vec4(1.0) );

                </Expression>
        <m_defaultInputMap Size="8" map0="A:35632:vec4(9999.0)" Type="QString" map1="B:35632:vec4(9999.0)" map2="Pattern:35632:vec4(0.5)" map3="Transition:35632:vec4(0.5)" ContainerType="QHash" map4="A:36487:vec4(9999.0)" map5="B:36487:vec4(9999.0)" map6="Pattern:36487:vec4(0.5)" map7="Transition:36487:vec4(0.5)"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{8a5d7b81-eccd-4cfd-9a81-3da5dc08fe0c}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">35632</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    float alpha = 0;
    vec4 A_B_unmapped = (#A-vec4(0.5))*$Contrast+vec4(0.5);
    vec4 B_Handle = ( #B == vec4(9999.0) ) ? A_B_unmapped : #B ;



    if($Trans_Type==0)
    {
      alpha = #Transition.r;
    }
    else if($Trans_Type==1)
    {
      alpha = #Pattern.r;
    }
    else if($Trans_Type==2)
    {
      alpha = #Transition.r * #Pattern.r;
    }
    else if($Trans_Type==3)
    {
      alpha = clamp(#Pattern.r + (2.0*(#Transition.r-0.5)), 0.0, 1.0);
    }
    else if($Trans_Type==4)
    {
      alpha = Comp_Default( vec4(0.0,0.0,0.0,1.0), #Pattern, #Transition.r).r;
    }
    else if($Trans_Type==5)
    {
      alpha = Comp_Default( #Pattern, vec4(1.0,1.0,1.0,1.0), #Transition.r).r;
    }



    Output = clamp( $BlendMode(#A, B_Handle, alpha),vec4(0.0),vec4(1.0) );

                </Expression>
        <m_defaultInputMap Size="8" map0="A:35632:vec4(9999.0)" Type="QString" map1="B:35632:vec4(9999.0)" map2="Pattern:35632:vec4(0.5)" map3="Transition:35632:vec4(0.5)" ContainerType="QHash" map4="A:36487:vec4(9999.0)" map5="B:36487:vec4(9999.0)" map6="Pattern:36487:vec4(0.5)" map7="Transition:36487:vec4(0.5)"/>
       </GLSL>
       <m_input2node Size="4" map0="A:{56c37e30-62fa-4518-acf8-8e6436f8896a}:Output" Type="QString" map1="B:{6faba8ce-37ea-4d2f-9c30-8fceee6aa65c}:Output" map2="Pattern:{d23d918d-2fb9-489b-907c-6f21d81d02dd}:Output" map3="Transition::Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Saturation 2</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{cd78e4a8-8ce4-4319-80a4-455e58111522}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Saturation 2</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/Saturation</nodeAttributes>
       <tags Type="QStringList">_adjustment</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.01</cost>
       <costDescription Type="QString">Some calculations</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Filter_Saturation</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">01e3fc2a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString"/>
       <Saturation TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="1" AttribName="Saturation" GroupHints="1" PrettyName="Saturation" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="10">0</Saturation>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{4772efd2-d77c-40ff-963a-00dfcf688551}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Saturation 2</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{beccf1c8-9dbf-4f87-8b3e-e0c61a9c7289}</uuidString>
         <position Type="QPointF">982.465,-1127.19</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{ad7e1069-921b-42cb-affe-34a1471aa4e2}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    float a, b, c, d, e, f, g, h, i;
    vec3 wt = vec3(0.2126, 0.7152, 0.0722);
    a = (1.0 - $Saturation) * wt.r + $Saturation;
    b = (1.0 - $Saturation) * wt.r;
    c = (1.0 - $Saturation) * wt.r;
    d = (1.0 - $Saturation) * wt.g;
    e = (1.0 - $Saturation) * wt.g + $Saturation;
    f = (1.0 - $Saturation) * wt.g;
    g = (1.0 - $Saturation) * wt.b;
    h = (1.0 - $Saturation) * wt.b;
    i = (1.0 - $Saturation) * wt.b + $Saturation;
    Output = mat4(a,   b,   c,   0.0,
                  d,   e,   f,   0.0,
                  g,   h,   i,   0.0,
                  0.0, 0.0, 0.0, 1.0) * #Input;
            </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(1,1,1,1)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{72e5c8ab-58f2-41e6-90da-445a7d196704}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input=" " Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Curvature Map</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{aada0b4d-5d91-416e-ad94-d6b9058bfc33}</uuidString>
       <prefferedInput Type="QString"/>
       <preferredInput Type="QString"/>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Curvature Map</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList"/>
       <tags Type="QStringList">_input</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Misc_Input</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0b40bfca</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Misc/Input</pathKey>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{c4d43ac1-aca3-414c-a66d-ba4ffee8cac6}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Curvature Map</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{95bfc046-f08d-4d96-93b4-b1c0ae705183}</uuidString>
         <position Type="QPointF">945.426,-1403.8</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{a4a15cf7-2027-4dca-a468-4935ea5edc89}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    Output = vec4(0,0,0,0);
                </Expression>
        <m_defaultInputMap Size="0" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="0" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Manifold 3D 2</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{8c75d316-2264-4d70-9adc-955722f331cf}</uuidString>
       <prefferedInput Type="QString">Coordinates</prefferedInput>
       <preferredInput Type="QString">Coordinates</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Manifold 3D 2</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">Transform Scale/WorldScale,Transform Scale/scaleX,Transform Scale/scaleY,Transform Scale/scaleZ,Transform Rotate/rotateX,Transform Rotate/rotateY,Transform Rotate/rotateZ,Transform Translate/transX,Transform Translate/transY,Transform Translate/transZ</nodeAttributes>
       <tags Type="QStringList"/>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0</cost>
       <costDescription Type="QString"/>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">JK_Transform3D</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0fabaaca</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Manifold/Manifold 3D</pathKey>
       <WorldScale TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="WorldScale" GroupHints="1" PrettyName="WorldScale" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="">1</WorldScale>
       <rotateX TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="rotateX" GroupHints="1" PrettyName="Rotate X" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="360">0</rotateX>
       <rotateY TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="rotateY" GroupHints="1" PrettyName="Rotate Y" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="360">0</rotateY>
       <rotateZ TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="rotateZ" GroupHints="1" PrettyName="Rotate Z" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="360">0</rotateZ>
       <scaleX TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="scaleX" GroupHints="1" PrettyName="Scale X" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="100">1</scaleX>
       <scaleY TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="scaleY" GroupHints="1" PrettyName="Scale Y" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="100">1</scaleY>
       <scaleZ TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="scaleZ" GroupHints="1" PrettyName="Scale Z" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="100">1</scaleZ>
       <transX TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="transX" GroupHints="1" PrettyName="Translate X" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100">0</transX>
       <transY TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="transY" GroupHints="1" PrettyName="Translate Y" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100">0</transY>
       <transZ TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="transZ" GroupHints="1" PrettyName="Translate Z" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100">0</transZ>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{998a0e6a-b672-4fc5-a1a2-0df3cb74c5c8}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Manifold 3D 2</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{3fcf4b6e-c625-421d-86e7-31e6102f6e9f}</uuidString>
         <position Type="QPointF">-115.611,76.752</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="4" map0="Scale:0,0,-100,30" Type="QString" map1="Coordinates:0,0,0,-50" map2="Rotate:0,0,-100,0" map3="Translate:0,0,-100,-30" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{f7706e31-c9c2-4c36-824f-e0bb63e2ad61}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Initialize Sliders
    float INIT = $scaleX; INIT = $scaleY; INIT = $scaleZ; INIT = $WorldScale;
    INIT = $rotateX; INIT = $rotateY; INIT = $rotateZ;
    INIT = $transX; INIT = $transY; INIT = $transZ;


    Output =  vec4( positionTransform(#Coordinates.xyz,#Translate.xyz,#Rotate.xyz,vec3(1.0)/#Scale.xyz),1.0);

                </Expression>
        <m_defaultInputMap Size="8" map0="Coordinates:35632:vec4(State.Position,1.0)" Type="QString" map1="Rotate:35632:vec4($rotateX,$rotateY,$rotateZ,1.0)" map2="Scale:35632:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map3="Translate:35632:vec4($transX,$transY,$transZ,1.0)" ContainerType="QHash" map4="Coordinates:36487:vec4(State.Position,1.0)" map5="Rotate:36487:vec4($rotateX,$rotateY,$rotateZ,1.0)" map6="Scale:36487:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map7="Translate:36487:vec4($transX,$transY,$transZ,1.0)"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{e8ccef4a-ddeb-4a5a-b561-f642ed946adb}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">36487</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Initialize Sliders
    float INIT = $scaleX; INIT = $scaleY; INIT = $scaleZ; INIT = $WorldScale;
    INIT = $rotateX; INIT = $rotateY; INIT = $rotateZ;
    INIT = $transX; INIT = $transY; INIT = $transZ;


    Output =  vec4( positionTransform(#Coordinates.xyz,#Translate.xyz,#Rotate.xyz,vec3(1.0)/#Scale.xyz),1.0);

                </Expression>
        <m_defaultInputMap Size="8" map0="Coordinates:35632:vec4(State.Position,1.0)" Type="QString" map1="Rotate:35632:vec4($rotateX,$rotateY,$rotateZ,1.0)" map2="Scale:35632:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map3="Translate:35632:vec4($transX,$transY,$transZ,1.0)" ContainerType="QHash" map4="Coordinates:36487:vec4(State.Position,1.0)" map5="Rotate:36487:vec4($rotateX,$rotateY,$rotateZ,1.0)" map6="Scale:36487:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map7="Translate:36487:vec4($transX,$transY,$transZ,1.0)"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{6a8e844f-20fd-4496-82c4-3ab06049d93f}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">35632</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Initialize Sliders
    float INIT = $scaleX; INIT = $scaleY; INIT = $scaleZ; INIT = $WorldScale;
    INIT = $rotateX; INIT = $rotateY; INIT = $rotateZ;
    INIT = $transX; INIT = $transY; INIT = $transZ;


    Output =  vec4( positionTransform(#Coordinates.xyz,#Translate.xyz,#Rotate.xyz,vec3(1.0)/#Scale.xyz),1.0);

                </Expression>
        <m_defaultInputMap Size="8" map0="Coordinates:35632:vec4(State.Position,1.0)" Type="QString" map1="Rotate:35632:vec4($rotateX,$rotateY,$rotateZ,1.0)" map2="Scale:35632:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map3="Translate:35632:vec4($transX,$transY,$transZ,1.0)" ContainerType="QHash" map4="Coordinates:36487:vec4(State.Position,1.0)" map5="Rotate:36487:vec4($rotateX,$rotateY,$rotateZ,1.0)" map6="Scale:36487:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map7="Translate:36487:vec4($transX,$transY,$transZ,1.0)"/>
       </GLSL>
       <m_input2node Size="4" map0="Coordinates::Output" Type="QString" map1="Scale:{2b36ad56-02f3-4637-8b3a-7b51d8fdbc7b}:Output" map2="Rotate::Output" map3="Translate::Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Type="QString" ContainerType="QHash" Coordinates="3D Coordinates"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Manifold 3D 3</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{15b6e670-a257-4bef-a52b-a309199acdb3}</uuidString>
       <prefferedInput Type="QString">Coordinates</prefferedInput>
       <preferredInput Type="QString">Coordinates</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Manifold 3D 3</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">Transform Scale/WorldScale,Transform Scale/scaleX,Transform Scale/scaleY,Transform Scale/scaleZ,Transform Rotate/rotateX,Transform Rotate/rotateY,Transform Rotate/rotateZ,Transform Translate/transX,Transform Translate/transY,Transform Translate/transZ</nodeAttributes>
       <tags Type="QStringList"/>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0</cost>
       <costDescription Type="QString"/>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">JK_Transform3D</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0fabaaca</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Manifold/Manifold 3D</pathKey>
       <WorldScale TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="WorldScale" GroupHints="1" PrettyName="WorldScale" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="">1</WorldScale>
       <rotateX TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="rotateX" GroupHints="1" PrettyName="Rotate X" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="360">0</rotateX>
       <rotateY TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="rotateY" GroupHints="1" PrettyName="Rotate Y" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="360">0</rotateY>
       <rotateZ TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="rotateZ" GroupHints="1" PrettyName="Rotate Z" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="360">0</rotateZ>
       <scaleX TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="scaleX" GroupHints="1" PrettyName="Scale X" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="100">1</scaleX>
       <scaleY TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="scaleY" GroupHints="1" PrettyName="Scale Y" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="100">1</scaleY>
       <scaleZ TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="1" AttribName="scaleZ" GroupHints="1" PrettyName="Scale Z" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="100">1</scaleZ>
       <transX TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="transX" GroupHints="1" PrettyName="Translate X" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100">0</transX>
       <transY TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="transY" GroupHints="1" PrettyName="Translate Y" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100">0</transY>
       <transZ TypeFlags="1" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="float" Reset="0" AttribName="transZ" GroupHints="1" PrettyName="Translate Z" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="100">0</transZ>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{710aaae7-ce74-4324-ada2-fd84721ea81a}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Manifold 3D 3</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{488645f5-d64c-40e3-b17c-656870b241a6}</uuidString>
         <position Type="QPointF">-237.588,-650.729</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="4" map0="Scale:0,0,-100,30" Type="QString" map1="Coordinates:0,0,0,-50" map2="Rotate:0,0,-100,0" map3="Translate:0,0,-100,-30" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{63924f00-2e8c-4f47-adfe-5352ac331008}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Initialize Sliders
    float INIT = $scaleX; INIT = $scaleY; INIT = $scaleZ; INIT = $WorldScale;
    INIT = $rotateX; INIT = $rotateY; INIT = $rotateZ;
    INIT = $transX; INIT = $transY; INIT = $transZ;


    Output =  vec4( positionTransform(#Coordinates.xyz,#Translate.xyz,#Rotate.xyz,vec3(1.0)/#Scale.xyz),1.0);

                </Expression>
        <m_defaultInputMap Size="8" map0="Coordinates:35632:vec4(State.Position,1.0)" Type="QString" map1="Rotate:35632:vec4($rotateX,$rotateY,$rotateZ,1.0)" map2="Scale:35632:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map3="Translate:35632:vec4($transX,$transY,$transZ,1.0)" ContainerType="QHash" map4="Coordinates:36487:vec4(State.Position,1.0)" map5="Rotate:36487:vec4($rotateX,$rotateY,$rotateZ,1.0)" map6="Scale:36487:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map7="Translate:36487:vec4($transX,$transY,$transZ,1.0)"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{9e3c62b0-71ef-44aa-9e02-1f8f662e0f2a}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">36487</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Initialize Sliders
    float INIT = $scaleX; INIT = $scaleY; INIT = $scaleZ; INIT = $WorldScale;
    INIT = $rotateX; INIT = $rotateY; INIT = $rotateZ;
    INIT = $transX; INIT = $transY; INIT = $transZ;


    Output =  vec4( positionTransform(#Coordinates.xyz,#Translate.xyz,#Rotate.xyz,vec3(1.0)/#Scale.xyz),1.0);

                </Expression>
        <m_defaultInputMap Size="8" map0="Coordinates:35632:vec4(State.Position,1.0)" Type="QString" map1="Rotate:35632:vec4($rotateX,$rotateY,$rotateZ,1.0)" map2="Scale:35632:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map3="Translate:35632:vec4($transX,$transY,$transZ,1.0)" ContainerType="QHash" map4="Coordinates:36487:vec4(State.Position,1.0)" map5="Rotate:36487:vec4($rotateX,$rotateY,$rotateZ,1.0)" map6="Scale:36487:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map7="Translate:36487:vec4($transX,$transY,$transZ,1.0)"/>
       </GLSL>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{1f19d36d-2e0c-40b4-bc5e-0b9f7af46bd3}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">35632</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

    // Initialize Sliders
    float INIT = $scaleX; INIT = $scaleY; INIT = $scaleZ; INIT = $WorldScale;
    INIT = $rotateX; INIT = $rotateY; INIT = $rotateZ;
    INIT = $transX; INIT = $transY; INIT = $transZ;


    Output =  vec4( positionTransform(#Coordinates.xyz,#Translate.xyz,#Rotate.xyz,vec3(1.0)/#Scale.xyz),1.0);

                </Expression>
        <m_defaultInputMap Size="8" map0="Coordinates:35632:vec4(State.Position,1.0)" Type="QString" map1="Rotate:35632:vec4($rotateX,$rotateY,$rotateZ,1.0)" map2="Scale:35632:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map3="Translate:35632:vec4($transX,$transY,$transZ,1.0)" ContainerType="QHash" map4="Coordinates:36487:vec4(State.Position,1.0)" map5="Rotate:36487:vec4($rotateX,$rotateY,$rotateZ,1.0)" map6="Scale:36487:vec4( vec3($scaleX,$scaleY,$scaleZ) * vec3($WorldScale),1.0)" map7="Translate:36487:vec4($transX,$transY,$transZ,1.0)"/>
       </GLSL>
       <m_input2node Size="4" map0="Coordinates::Output" Type="QString" map1="Scale:{2b36ad56-02f3-4637-8b3a-7b51d8fdbc7b}:Output" map2="Rotate::Output" map3="Translate::Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Type="QString" ContainerType="QHash" Coordinates="3D Coordinates"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">BigEdgeControl</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{e9fa119b-5e34-400e-bddb-19d8a3ad66c8}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">true</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">BigEdgeControl</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/Threshold,/Clip</nodeAttributes>
       <tags Type="QStringList">_adjustment</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0</cost>
       <costDescription Type="QString"/>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">Threshold</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">042891aa</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Filter/Custom/Histogram/Threshold</pathKey>
       <Clip TypeFlags="0" Enabled="true" Visible="true" Min="0.001" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.001" AttribName="Clip" GroupHints="1" PrettyName="Edge" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.001" Max="1">0.760000036098063</Clip>
       <Threshold TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.5" AttribName="Threshold" GroupHints="1" PrettyName="Threshold" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.5" Max="1">0.370000017574057</Threshold>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{eb763398-6745-49f1-b181-08ae4b28d922}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">BigEdgeControl</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{57746354-535a-41ca-84a6-fbd3b9b5108e}</uuidString>
         <position Type="QPointF">980.811,-1027.65</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="3" map0="Input:0,0,0,-50" Type="QString" map1="Edge:0,0,120,0" map2="Threshold:0,0,-120,0" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{e6ed540b-ea0b-45d1-a240-69a6b3008047}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

                float INIT = $Threshold; INIT = $Clip;

                vec4 threshold = vec4(#Threshold.rgb,1);
                vec4 bounds = vec4(#Edge.rgb,1)/2;
                vec4 edgeH = threshold + bounds;
                vec4 edgeL = threshold - bounds;
                vec4 _input = mriRgb2Hsv(#Input);

                _input = vec4(_input.r,0,_input.b,1);
                _input = mriHsv2Rgb(_input);

                vec4 _result = smoothstep(edgeL,edgeH,_input);
                vec4 result = vec4(_result.r,_result.g,_result.b,1.0);
                Output = result;

                </Expression>
        <m_defaultInputMap Size="3" map0="Edge:0:vec4($Clip)" Type="QString" map1="Input:0:vec4(1,1,1,1)" map2="Threshold:0:vec4($Threshold)" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="3" map0="Input:{cd78e4a8-8ce4-4319-80a4-455e58111522}:Output" Type="QString" map1="Threshold::Output" map2="Edge::Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Threshold 2</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{250ea259-7b71-457c-b02e-6dedd046348d}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">true</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Threshold 2</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/Threshold,/Clip</nodeAttributes>
       <tags Type="QStringList">_adjustment</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0</cost>
       <costDescription Type="QString"/>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">Threshold</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">042891aa</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Filter/Custom/Histogram/Threshold</pathKey>
       <Clip TypeFlags="0" Enabled="true" Visible="true" Min="0.001" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.001" AttribName="Clip" GroupHints="1" PrettyName="Edge" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.001" Max="1">0.237000011256896</Clip>
       <Threshold TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.5" AttribName="Threshold" GroupHints="1" PrettyName="Threshold" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.5" Max="1">0.36100001714658</Threshold>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{c15fdeb1-132e-4213-b591-a298ab59c7a1}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Threshold 2</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{63c22887-45c3-4244-a2e9-b98d9adabacb}</uuidString>
         <position Type="QPointF">985.153,-765.475</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="3" map0="Input:0,0,0,-50" Type="QString" map1="Edge:0,0,120,0" map2="Threshold:0,0,-120,0" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{a3aff29a-503a-49fc-b0ee-ba4851711fc7}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">

                float INIT = $Threshold; INIT = $Clip;

                vec4 threshold = vec4(#Threshold.rgb,1);
                vec4 bounds = vec4(#Edge.rgb,1)/2;
                vec4 edgeH = threshold + bounds;
                vec4 edgeL = threshold - bounds;
                vec4 _input = mriRgb2Hsv(#Input);

                _input = vec4(_input.r,0,_input.b,1);
                _input = mriHsv2Rgb(_input);

                vec4 _result = smoothstep(edgeL,edgeH,_input);
                vec4 result = vec4(_result.r,_result.g,_result.b,1.0);
                Output = result;

                </Expression>
        <m_defaultInputMap Size="3" map0="Edge:0:vec4($Clip)" Type="QString" map1="Input:0:vec4(1,1,1,1)" map2="Threshold:0:vec4($Threshold)" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="3" map0="Input:{c7fc6f89-e841-4845-89a9-e909ff7ab7e2}:Output" Type="QString" map1="Threshold::Output" map2="Edge::Output" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Invert 2</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{de93ce37-c089-4a73-8f9d-e6b0b236917e}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Invert 2</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/Red,/Green,/Blue,/Alpha</nodeAttributes>
       <tags Type="QStringList">_adjustment</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Filter_Invert</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">0b133a8a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Filter/Invert</pathKey>
       <Alpha TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="false" AttribName="Alpha" GroupHints="1" PrettyName="Alpha" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="false" Max="false">false</Alpha>
       <Blue TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="Blue" GroupHints="1" PrettyName="Blue" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="false">true</Blue>
       <Green TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="Green" GroupHints="1" PrettyName="Green" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="false">true</Green>
       <Red TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="Red" GroupHints="1" PrettyName="Red" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="false">true</Red>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{ef1b7831-eed7-4c0d-9a8f-ac6da894f9e9}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Invert 2</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{bf7e23f0-0e61-4562-8f6b-8c4ab9f5d66a}</uuidString>
         <position Type="QPointF">980.692,-675.188</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{20c97de6-bff0-4fd5-882d-71a6ba10a986}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    Output   = #Input;
    Output.r = $Red   ? clamp(1.0 - Output.r, 0.0, 1.0) : Output.r;
    Output.g = $Green ? clamp(1.0 - Output.g, 0.0, 1.0) : Output.g;
    Output.b = $Blue  ? clamp(1.0 - Output.b, 0.0, 1.0) : Output.b;
    Output.a = $Alpha ? clamp(1.0 - Output.a, 0.0, 1.0) : Output.a;
            </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(1,1,1,1)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{250ea259-7b71-457c-b02e-6dedd046348d}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input=" " Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Dot 52</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{6faba8ce-37ea-4d2f-9c30-8fceee6aa65c}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Dot</defaultName>
       <name Type="QString">Dot 52</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList"/>
       <tags Type="QStringList">_dot</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString"/>
       <versionDate Type="QString"/>
       <versionHashCreated Type="QString"/>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Misc/Dot</pathKey>
       <NodeGraphView Type="MriSnUINodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{aab343cb-ea8a-41f9-833b-e82906ef8a34}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <guiNodeClass Type="QString">Dot</guiNodeClass>
        <m_GuiNode Type="MriNgDotNode">
         <objectName Type="QString"/>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{2d8d7fed-1dbd-47e2-817d-9b6d8b53aa5a}</uuidString>
         <position Type="QPointF">956.161,-314.06</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{e9d258cd-1f4a-4010-8918-609b969f3b90}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
                    Output = #Input;
                    </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(0,0,0,0)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{6ef0c9b7-09d2-4106-a020-10f76e383435}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input="" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Dot 53</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{1341100b-5b3a-439e-a266-e37bbf66d897}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Dot</defaultName>
       <name Type="QString">Dot 53</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList"/>
       <tags Type="QStringList">_dot</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString"/>
       <versionDate Type="QString"/>
       <versionHashCreated Type="QString"/>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Misc/Dot</pathKey>
       <NodeGraphView Type="MriSnUINodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{d9351587-819f-4ff2-b7d9-ce20e2523024}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <guiNodeClass Type="QString">Dot</guiNodeClass>
        <m_GuiNode Type="MriNgDotNode">
         <objectName Type="QString"/>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{165c684f-37ac-4d55-938d-35f1e64a0282}</uuidString>
         <position Type="QPointF">1075.73,58.7068</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{6194b5f7-6df9-4618-b870-8c2da9291ba2}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
                    Output = #Input;
                    </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(0,0,0,0)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{2deee9d9-c591-4d0e-b5b1-ed0277be4ed0}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input="" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Dot 54</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{ee4c34b0-81d4-466c-9535-b4e0a91d3851}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Dot</defaultName>
       <name Type="QString">Dot 54</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList"/>
       <tags Type="QStringList">_dot</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString"/>
       <versionDate Type="QString"/>
       <versionHashCreated Type="QString"/>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Misc/Dot</pathKey>
       <NodeGraphView Type="MriSnUINodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{5707b72f-abf8-4091-90bf-62f55595f660}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <guiNodeClass Type="QString">Dot</guiNodeClass>
        <m_GuiNode Type="MriNgDotNode">
         <objectName Type="QString"/>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{51de6602-edff-43c2-9038-0e2ac6b1150b}</uuidString>
         <position Type="QPointF">619.968,-674.168</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{7f1363ae-b11a-4832-8733-ef3eacee4627}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
                    Output = #Input;
                    </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(0,0,0,0)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{303a39a4-5d45-49a4-9f9c-57ffad51c234}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input="" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Dot 55</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{303a39a4-5d45-49a4-9f9c-57ffad51c234}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Dot</defaultName>
       <name Type="QString">Dot 55</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList"/>
       <tags Type="QStringList">_dot</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.001</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString"/>
       <versionDate Type="QString"/>
       <versionHashCreated Type="QString"/>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Misc/Dot</pathKey>
       <NodeGraphView Type="MriSnUINodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{51c194e0-f9d5-4b29-9c41-473c62550ad1}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <guiNodeClass Type="QString">Dot</guiNodeClass>
        <m_GuiNode Type="MriNgDotNode">
         <objectName Type="QString"/>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{43925030-b5f9-4db2-8f7e-39dc9cb25239}</uuidString>
         <position Type="QPointF">767.668,-669.948</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{58d412c0-e752-4317-a4ef-1961b6e79e34}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
                    Output = #Input;
                    </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(0,0,0,0)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{42471b6e-ad98-47c1-b2a6-89a87512df12}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input="" Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
      <MriSnBaseNode Type="MriSnBaseNode">
       <objectName Type="QString">Levels</objectName>
       <selected Type="bool">false</selected>
       <uuidString Type="QString">{dafd8859-9911-438f-9016-90a816ada13a}</uuidString>
       <prefferedInput Type="QString">Input</prefferedInput>
       <preferredInput Type="QString">Input</preferredInput>
       <preferredInputSetAtLoadTime Type="bool">false</preferredInputSetAtLoadTime>
       <defaultName Type="QString">Unnamed</defaultName>
       <name Type="QString">Levels</name>
       <defaultDescription Type="QString"/>
       <description Type="QString"/>
       <nodeAttributes Type="QStringList">/Clamp,/Red,/Green,/Blue,Output Level/OutWhite,Output Level/OutBlack,Input Level/InMidMode,Input Level/InWhite,Input Level/InMid,Input Level/InBlack</nodeAttributes>
       <tags Type="QStringList">_adjustment</tags>
       <enabled Type="int">-1</enabled>
       <locked Type="bool">false</locked>
       <hash Type="QString"/>
       <cachePoints Type="QStringList"/>
       <cost Type="float">0.002</cost>
       <costDescription Type="QString">Trivial operation</costDescription>
       <disabledInputs Type="QStringList"/>
       <cacheEnabled Type="bool">false</cacheEnabled>
       <versionUUID Type="QString">MRI_Filter_Levels</versionUUID>
       <versionDate Type="QString">3.0.2015.1022</versionDate>
       <versionHashCreated Type="QString">01a31b2a</versionHashCreated>
       <containerNodeUUID Type="QString"/>
       <isContainerNode Type="bool">false</isContainerNode>
       <stackContainerNodeUUID Type="QString"/>
       <isStackContainerNode Type="bool">false</isStackContainerNode>
       <adjustmentStackContainerNodeUUID Type="QString"/>
       <isAdjustmentStackContainerNode Type="bool">false</isAdjustmentStackContainerNode>
       <sharedEdges Type="QStringList"/>
       <pathKey Type="QString">Filter/Levels</pathKey>
       <Blue TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="Blue" GroupHints="1" PrettyName="Blue" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="false">true</Blue>
       <Clamp TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="0,0,1,2,Disable,Clamp Output Levels,Clamp LDR" AttribName="Clamp" GroupHints="1" PrettyName="Clamp" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0,0,1,2,Disable,Clamp Output Levels,Clamp LDR" Max="">0,0,1,2,Disable,Clamp Output Levels,Clamp LDR</Clamp>
       <Green TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="Green" GroupHints="1" PrettyName="Green" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="false">true</Green>
       <InBlack TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="InBlack" GroupHints="1" PrettyName="Black" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1">0.481000022846274</InBlack>
       <InMid TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0.5" AttribName="InMid" GroupHints="1" PrettyName="Mid" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0.5" Max="1">0.909000043175183</InMid>
       <InMidMode TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="MriUserEnum" Reset="0,0,1,Absolute,Relative" AttribName="InMidMode" GroupHints="1" PrettyName="Mid Mode" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0,0,1,Absolute,Relative" Max="">0,0,1,Absolute,Relative</InMidMode>
       <InWhite TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="1" AttribName="InWhite" GroupHints="1" PrettyName="White" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="1">1</InWhite>
       <OutBlack TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="0" AttribName="OutBlack" GroupHints="1" PrettyName="Black" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="0" Max="1">0</OutBlack>
       <OutWhite TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="true" Type="double" Reset="1" AttribName="OutWhite" GroupHints="1" PrettyName="White" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="1" Max="1">1</OutWhite>
       <Red TypeFlags="0" Enabled="true" Visible="true" Min="true" Saved="true" Tweakable="true" Undoable="true" Type="bool" Reset="true" AttribName="Red" GroupHints="1" PrettyName="Red" ItemList="" Step="" Description="" Flags="31" Removeable="true" Default="true" Max="false">true</Red>
       <NodeGraphView Type="MriSnNodeGraphViewContext">
        <objectName Type="QString">NodeGraphView</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{fd505c3d-7fdb-40b4-bde0-d0e998616c85}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shapeType Type="int">0</shapeType>
        <nodeColorTop Type="QString"/>
        <nodeColorBottom Type="QString"/>
        <m_GuiNode Type="MriNgTextNode">
         <objectName Type="QString">Levels</objectName>
         <selected Type="bool">false</selected>
         <uuidString Type="QString">{eab4dd59-1d65-47ab-880c-09ac6511242a}</uuidString>
         <position Type="QPointF">943.46,-1332.78</position>
        </m_GuiNode>
        <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
        <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
       </NodeGraphView>
       <GLSL Type="MriSnBaseGlslContext">
        <objectName Type="QString">GLSL</objectName>
        <selected Type="bool">false</selected>
        <uuidString Type="QString">{0fda3a8f-7e2c-4869-9d2e-96a838f17829}</uuidString>
        <tags Type="QStringList"/>
        <inputTags Type="QStringList"/>
        <shaderType Type="uint">0</shaderType>
        <Expression TypeFlags="0" Enabled="true" Visible="true" Min="" Saved="true" Tweakable="true" Undoable="true" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="27" Removeable="false" Default="" Max="">
    float outWhite = $OutWhite;
    float outBlack = $OutBlack;
    float grad = (outWhite - outBlack) / ($InWhite - $InBlack);
    float inMid = $InMid;
    if( 1 == $InMidMode)
    {
        inMid = mix( $InBlack, $InWhite, inMid);
    }
    float ratio = (inMid - $InBlack) / ($InWhite - $InBlack);
    float alpha = 1.0 / pow(10.0, 1.0 - 2.0 * ratio);

    alpha = max(alpha, 0.0001);

    vec3 levelled = vec3(0.0);
    for (int i = 0; i != 3; ++i)
    {
        float val = outBlack + (#Input[i] - $InBlack) * grad;
        levelled[i] = pow(
                max( val, 0.0 )
                ,alpha );
    }
    if( 0 != $Clamp)
    {
        if( 1 == $Clamp)
        {
            // Clamp to Output Level range
            levelled.rgb = clamp( levelled.rgb, vec3( outBlack), vec3( outWhite));
        }
        else
        {
            // Clamp to 0-1 range
            levelled.rgb = clamp( levelled.rgb, vec3( 0), vec3( 1));
        }
    }
    Output.r = $Red   ? levelled.r : #Input.r;
    Output.g = $Green ? levelled.g : #Input.g;
    Output.b = $Blue  ? levelled.b : #Input.b;
    Output.a = #Input.a;
            </Expression>
        <m_defaultInputMap Size="1" map0="Input:0:vec4(1,1,1,1)" Type="QString" ContainerType="QHash"/>
       </GLSL>
       <m_input2node Size="1" map0="Input:{aada0b4d-5d91-416e-ad94-d6b9058bfc33}:Output" Type="QString" ContainerType="QHash"/>
       <m_PrettyInputNameMap Size="4" Input=" " Type="QString" ContainerType="QHash"/>
       <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
       <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
       <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
      </MriSnBaseNode>
     </m_nodes>
     <m_CustomHeaderHistory Size="10" Type="QString" ContainerType="QHash">
      <JK_TexScatterUV Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_TexScatterUV.glslh</JK_TexScatterUV>
      <ID_ProceduralLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/ID_ProceduralLib.glslh</ID_ProceduralLib>
      <NB_ProceduralLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/NB_FunctionLibrary/NB_ProceduralLib.glslh</NB_ProceduralLib>
      <JK_ColorRangeToMask Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_ColorRangeToMask.glslh</JK_ColorRangeToMask>
      <JK_VoronoiSuite Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_VoronoiSuite.glslh</JK_VoronoiSuite>
      <BS_GpuNoiseLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/BS_GpuNoiseLib.glslh</BS_GpuNoiseLib>
      <AL_GaborNoiseLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/AL_GaborNoiseLib.glslh</AL_GaborNoiseLib>
      <DT3D_CellularNoiseLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/DT3D_CellularNoiseLib.glslh</DT3D_CellularNoiseLib>
      <DT3D_ProceduralLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/DT3D_ProceduralLib.glslh</DT3D_ProceduralLib>
      <NB_BrdfLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/NB_FunctionLibrary/NB_BrdfLib.glslh</NB_BrdfLib>
     </m_CustomHeaderHistory>
     <m_CustomCodeHistory Size="10" Type="QString" ContainerType="QHash">
      <JK_TexScatterUV Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_TexScatterUV.glslc</JK_TexScatterUV>
      <NB_ProceduralLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/NB_FunctionLibrary/NB_ProceduralLib.glslc</NB_ProceduralLib>
      <ID_ProceduralLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/ID_ProceduralLib.glslc</ID_ProceduralLib>
      <JK_VoronoiSuite Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_VoronoiSuite.glslc</JK_VoronoiSuite>
      <JK_ColorRangeToMask Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_ColorRangeToMask.glslc</JK_ColorRangeToMask>
      <BS_GpuNoiseLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/BS_GpuNoiseLib.glslc</BS_GpuNoiseLib>
      <AL_GaborNoiseLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/AL_GaborNoiseLib.glslc</AL_GaborNoiseLib>
      <DT3D_CellularNoiseLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/DT3D_CellularNoiseLib.glslc</DT3D_CellularNoiseLib>
      <DT3D_ProceduralLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/DT3D_ProceduralLib.glslc</DT3D_ProceduralLib>
      <NB_BrdfLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/NB_FunctionLibrary/NB_BrdfLib.glslc</NB_BrdfLib>
     </m_CustomCodeHistory>
    </m_groupNetwork>
    <NodeGraphView Type="MriSnGroupNodeGraphViewContext">
     <objectName Type="QString">NodeGraphView</objectName>
     <selected Type="bool">false</selected>
     <uuidString Type="QString">{d74dc64b-d2bb-4145-8548-27cf6f6a6512}</uuidString>
     <tags Type="QStringList"/>
     <inputTags Type="QStringList"/>
     <shapeType Type="int">4</shapeType>
     <nodeColorTop Type="QString"/>
     <nodeColorBottom Type="QString"/>
     <m_GuiNode Type="MriNgTextNode">
      <objectName Type="QString">Edge Wear</objectName>
      <selected Type="bool">false</selected>
      <uuidString Type="QString">{36964ac6-c3f0-43dc-8439-7648651621e8}</uuidString>
      <position Type="QPointF">1.72941e+06,-5729.07</position>
     </m_GuiNode>
     <m_inputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
     <m_outputNodeInitialPos Size="0" Type="QString" ContainerType="QHash"/>
    </NodeGraphView>
    <GLSL Type="MriSnGroupGlslContext">
     <objectName Type="QString">GLSL</objectName>
     <selected Type="bool">false</selected>
     <uuidString Type="QString">{ef469608-55fc-489d-ad9a-82791c968207}</uuidString>
     <tags Type="QStringList"/>
     <inputTags Type="QStringList"/>
     <shaderType Type="uint">0</shaderType>
     <Expression TypeFlags="0" Enabled="true" Visible="true" Min="0" Saved="true" Tweakable="true" Undoable="false" Type="QString" Reset="" AttribName="Expression" GroupHints="1" PrettyName="" ItemList="" Step="" Description="" Flags="19" Removeable="false" Default="" Max="0"/>
     <m_defaultInputMap Size="0" Type="QString" ContainerType="QHash"/>
    </GLSL>
    <m_input2node Size="1" map0="Curvature Map::Output" Type="QString" ContainerType="QHash"/>
    <m_PrettyInputNameMap Size="3" Type="QString" ContainerType="QHash"/>
    <m_PrettyOutputNameMap Size="4" Type="QString" ContainerType="QHash" Output=""/>
    <m_outputPoints Size="1" Type="QString" outputPoint0="Output" ContainerType="QVector"/>
    <m_Snapshots Size="0" Type="MriSnapshot" ContainerType="QVector"/>
   </MriSnGroupNode>
  </m_nodes>
  <m_CustomHeaderHistory Size="10" Type="QString" ContainerType="QHash">
   <JK_TexScatterUV Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_TexScatterUV.glslh</JK_TexScatterUV>
   <ID_ProceduralLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/ID_ProceduralLib.glslh</ID_ProceduralLib>
   <NB_ProceduralLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/NB_FunctionLibrary/NB_ProceduralLib.glslh</NB_ProceduralLib>
   <JK_ColorRangeToMask Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_ColorRangeToMask.glslh</JK_ColorRangeToMask>
   <JK_VoronoiSuite Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_VoronoiSuite.glslh</JK_VoronoiSuite>
   <BS_GpuNoiseLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/BS_GpuNoiseLib.glslh</BS_GpuNoiseLib>
   <AL_GaborNoiseLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/AL_GaborNoiseLib.glslh</AL_GaborNoiseLib>
   <DT3D_CellularNoiseLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/DT3D_CellularNoiseLib.glslh</DT3D_CellularNoiseLib>
   <DT3D_ProceduralLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/DT3D_ProceduralLib.glslh</DT3D_ProceduralLib>
   <NB_BrdfLib Type="Header">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/NB_FunctionLibrary/NB_BrdfLib.glslh</NB_BrdfLib>
  </m_CustomHeaderHistory>
  <m_CustomCodeHistory Size="10" Type="QString" ContainerType="QHash">
   <JK_TexScatterUV Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_TexScatterUV.glslc</JK_TexScatterUV>
   <NB_ProceduralLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/NB_FunctionLibrary/NB_ProceduralLib.glslc</NB_ProceduralLib>
   <ID_ProceduralLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/ID_ProceduralLib.glslc</ID_ProceduralLib>
   <JK_VoronoiSuite Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_VoronoiSuite.glslc</JK_VoronoiSuite>
   <JK_ColorRangeToMask Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/JK_FunctionLibrary/JK_ColorRangeToMask.glslc</JK_ColorRangeToMask>
   <BS_GpuNoiseLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/BS_GpuNoiseLib.glslc</BS_GpuNoiseLib>
   <AL_GaborNoiseLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/AL_GaborNoiseLib.glslc</AL_GaborNoiseLib>
   <DT3D_CellularNoiseLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/DT3D_CellularNoiseLib.glslc</DT3D_CellularNoiseLib>
   <DT3D_ProceduralLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/DT3D_FunctionLibrary/DT3D_ProceduralLib.glslc</DT3D_ProceduralLib>
   <NB_BrdfLib Type="Code">C:/Users/JensK/Documents/Mari/Scripts/ExtensionPack_3v01/Shaders/FunctionLibrary/NB_FunctionLibrary/NB_BrdfLib.glslc</NB_BrdfLib>
  </m_CustomCodeHistory>
 </MriShaderNetwork>
</Mari>
